parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"L7R4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;class e{constructor(){this.__keysMap={},this.__reset=this.__reset.bind(this),this.__onKeyUp=this.__onKeyUp.bind(this),this.__onKeyDown=this.__onKeyDown.bind(this),window.addEventListener("blur",this.__reset),window.addEventListener("keydown",this.__onKeyDown),window.addEventListener("keyup",this.__onKeyUp)}__onKeyDown(e){this.__keysMap[e.key]=!0}__onKeyUp(e){this.__keysMap[e.key]=!1}__reset(){this.__keysMap={}}isKeyPressed(e){return this.__keysMap[e]||!1}destroy(){window.removeEventListener("blur",this.__resetKeys),window.removeEventListener("keydown",this.__onKeyDown),window.removeEventListener("keyup",this.__onKeyUp)}}var s=exports.default=e;
},{}],"d1eo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const e=["left","wheel","right","back","forward"];class t{constructor(){this.__onMouseDown=this.__onMouseDown.bind(this),this.__onMouseUp=this.__onMouseUp.bind(this),this.__onMouseMove=this.__onMouseMove.bind(this),this.__onWheel=this.__onWheel.bind(this),this.__reset=this.__reset.bind(this),this.__reset(),window.addEventListener("mousedown",this.__onMouseDown),window.addEventListener("mouseup",this.__onMouseUp),window.addEventListener("mousemove",this.__onMouseMove),window.addEventListener("wheel",this.__onWheel),window.addEventListener("blur",this.__reset)}isButtonPressed(e){return this.__buttonsMap[e]||!1}getPosition(){return{x:this.__x,y:this.__y}}getMovement(){return{x:this.__dx,y:this.__dy}}getScroll(){return{x:this.__dWheelX,y:this.__dWheelY,z:this.__dWheelZ,unit:this.__wheelUnit}}isDragging(){return this.__dragging}__onMouseDown(t){this.__buttonsMap={[e[t.button]]:!0},this.__onMouseMove(t)}__onMouseUp(t){this.__buttonsMap={[e[t.button]]:!1},this.__onMouseMove(t)}__onMouseMove(e){this.__x=e.clientX,this.__y=e.clientY,this.__dx=e.movementX,this.__dy=e.movementY,this.__dragging=this.__buttonsMap.left||!1}__onWheel(e){this.__dWheelX=e.deltaX,this.__dWheelY=e.deltaY,this.__dWheelZ=e.deltaZ,this.__wheelUnit=e.deltaMode}update(){this.__dx=0,this.__dy=0,this.__dWheelX=0,this.__dWheelY=0,this.__dWheelZ=0,this.__wheelUnit=0}__reset(){this.__x=0,this.__y=0,this.__dx=0,this.__dy=0,this.__dWheelX=0,this.__dWheelY=0,this.__dWheelZ=0,this.__wheelUnit=0,this.__dragging=!1,this.__buttonsMap={}}destroy(){window.removeEventListener("mousedown",this.__onMouseDown),window.removeEventListener("mouseup",this.__onMouseUp),window.removeEventListener("mousemove",this.__onMouseMove),window.removeEventListener("blur",this.__reset)}}var _=exports.default=t;
},{}],"xnDs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("../Keyboard")),t=r(require("../Mouse"));function r(e){return e&&e.__esModule?e:{default:e}}const o={keyboard:!0,mouse:!0};class a{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.canvas=e;let r=e.getContext("webgl");if(r||(console.warn("WebGL not supported. Trying to use experimental webgl"),r=e.getContext("experimental-webgl")),!r)throw window.alert("Your browser does not support WebGL and 3D magic"),new Error("Your browser does not support WebGL and 3D magic");this.gl=r,this.__state="initializing",this.__drawDoneTime=0,this.__deltaTime=0,this.__setupInputs({...t.input,...o})}__setupInputs(r){this.__input={keyboard:r.keyboard?new e.default:void 0,mouse:r.mouse?new t.default:void 0}}notifyUpdating(){this.__deltaTime=window.performance.now()-this.__drawDoneTime,this.__state="updating"}notifyUpdateDone(){this.__state="updated",this.__input.mouse&&this.__input.mouse.update()}notifyDrawing(){this.__state="drawing"}notifyDrawDone(){this.__state="drawn",this.__drawDoneTime=window.performance.now()}get input(){return{...this.__input}}get state(){return this.__state}get deltaTime(){return this.__deltaTime}createVertexShader(e){const{gl:t}=this,r=t.createShader(t.VERTEX_SHADER);if(t.shaderSource(r,e),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))throw new Error(`Error compiling vertex shader ${t.getShaderInfoLog(r)}`);return r}createFragmentShader(e){const{gl:t}=this,r=t.createShader(t.FRAGMENT_SHADER);if(t.shaderSource(r,e),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))throw new Error(`Error compiling fragment shader ${t.getShaderInfoLog(r)}`);return r}}var i=exports.default=a;
},{"../Keyboard":"L7R4","../Mouse":"d1eo"}],"dKMc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;class t{constructor(t){this.context=t,this.position={x:0,y:0,z:0},this.scale={x:1,y:1,z:1},this.rotation={x:0,y:0,z:0},this.__controlScripts={}}addControlScript(t,s){this.__controlScripts[t]=s}getControlScript(t){return this.__controlScripts[t]}setScene(t){this.scene=t}_setModel(t){this.__model=t}draw(t,s){this.__model&&(this.__model.prepareDraw(this.position,this.rotation,this.scale,t,s),this.__model.draw())}update(){const{__controlScripts:t}=this;Object.keys(t).forEach(s=>{t[s].update(this,this.context)})}destroy(){this.__model&&this.__model.destroy()}}var s=exports.default=t;
},{}],"XJqx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RANDOM=exports.EPSILON=exports.ARRAY_TYPE=void 0,exports.equals=n,exports.setMatrixArrayType=a,exports.toRadian=s;var t=exports.EPSILON=1e-6,r=exports.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,e=exports.RANDOM=Math.random;function a(t){exports.ARRAY_TYPE=r=t}var o=Math.PI/180;function s(t){return t*o}function n(r,e){return Math.abs(r-e)<=t*Math.max(1,Math.abs(r),Math.abs(e))}Math.hypot||(Math.hypot=function(){for(var t=0,r=arguments.length;r--;)t+=arguments[r]*arguments[r];return Math.sqrt(t)});
},{}],"eN7R":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LDU=y,exports.add=P,exports.adjoint=f,exports.clone=o,exports.copy=a,exports.create=n,exports.determinant=l,exports.equals=A,exports.exactEquals=_,exports.frob=m,exports.fromRotation=b,exports.fromScaling=v,exports.fromValues=s,exports.identity=u,exports.invert=p,exports.mul=void 0,exports.multiply=x,exports.multiplyScalar=E,exports.multiplyScalarAndAdd=R,exports.rotate=M,exports.scale=h,exports.set=i,exports.str=d,exports.sub=void 0,exports.subtract=O,exports.transpose=c;var t=e(require("./common.js"));function r(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(r=function(t){return t?n:e})(t)}function e(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=r(e);if(n&&n.has(t))return n.get(t);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if("default"!==u&&{}.hasOwnProperty.call(t,u)){var s=a?Object.getOwnPropertyDescriptor(t,u):null;s&&(s.get||s.set)?Object.defineProperty(o,u,s):o[u]=t[u]}return o.default=t,n&&n.set(t,o),o}function n(){var r=new t.ARRAY_TYPE(4);return t.ARRAY_TYPE!=Float32Array&&(r[1]=0,r[2]=0),r[0]=1,r[3]=1,r}function o(r){var e=new t.ARRAY_TYPE(4);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e}function a(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}function u(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function s(r,e,n,o){var a=new t.ARRAY_TYPE(4);return a[0]=r,a[1]=e,a[2]=n,a[3]=o,a}function i(t,r,e,n,o){return t[0]=r,t[1]=e,t[2]=n,t[3]=o,t}function c(t,r){if(t===r){var e=r[1];t[1]=r[2],t[2]=e}else t[0]=r[0],t[1]=r[2],t[2]=r[1],t[3]=r[3];return t}function p(t,r){var e=r[0],n=r[1],o=r[2],a=r[3],u=e*a-o*n;return u?(u=1/u,t[0]=a*u,t[1]=-n*u,t[2]=-o*u,t[3]=e*u,t):null}function f(t,r){var e=r[0];return t[0]=r[3],t[1]=-r[1],t[2]=-r[2],t[3]=e,t}function l(t){return t[0]*t[3]-t[2]*t[1]}function x(t,r,e){var n=r[0],o=r[1],a=r[2],u=r[3],s=e[0],i=e[1],c=e[2],p=e[3];return t[0]=n*s+a*i,t[1]=o*s+u*i,t[2]=n*c+a*p,t[3]=o*c+u*p,t}function M(t,r,e){var n=r[0],o=r[1],a=r[2],u=r[3],s=Math.sin(e),i=Math.cos(e);return t[0]=n*i+a*s,t[1]=o*i+u*s,t[2]=n*-s+a*i,t[3]=o*-s+u*i,t}function h(t,r,e){var n=r[0],o=r[1],a=r[2],u=r[3],s=e[0],i=e[1];return t[0]=n*s,t[1]=o*s,t[2]=a*i,t[3]=u*i,t}function b(t,r){var e=Math.sin(r),n=Math.cos(r);return t[0]=n,t[1]=e,t[2]=-e,t[3]=n,t}function v(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=r[1],t}function d(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function m(t){return Math.hypot(t[0],t[1],t[2],t[3])}function y(t,r,e,n){return t[2]=n[2]/n[0],e[0]=n[0],e[1]=n[1],e[3]=n[3]-t[2]*e[1],[t,r,e]}function P(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t[3]=r[3]+e[3],t}function O(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t[3]=r[3]-e[3],t}function _(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]}function A(r,e){var n=r[0],o=r[1],a=r[2],u=r[3],s=e[0],i=e[1],c=e[2],p=e[3];return Math.abs(n-s)<=t.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(o-i)<=t.EPSILON*Math.max(1,Math.abs(o),Math.abs(i))&&Math.abs(a-c)<=t.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(u-p)<=t.EPSILON*Math.max(1,Math.abs(u),Math.abs(p))}function E(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t}function R(t,r,e,n){return t[0]=r[0]+e[0]*n,t[1]=r[1]+e[1]*n,t[2]=r[2]+e[2]*n,t[3]=r[3]+e[3]*n,t}var j=exports.mul=x,w=exports.sub=O;
},{"./common.js":"XJqx"}],"M21d":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.add=y,exports.clone=a,exports.copy=o,exports.create=n,exports.determinant=f,exports.equals=E,exports.exactEquals=A,exports.frob=d,exports.fromRotation=h,exports.fromScaling=b,exports.fromTranslation=v,exports.fromValues=s,exports.identity=u,exports.invert=c,exports.mul=void 0,exports.multiply=p,exports.multiplyScalar=O,exports.multiplyScalarAndAdd=_,exports.rotate=l,exports.scale=x,exports.set=i,exports.str=m,exports.sub=void 0,exports.subtract=P,exports.translate=M;var t=e(require("./common.js"));function r(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(r=function(t){return t?n:e})(t)}function e(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=r(e);if(n&&n.has(t))return n.get(t);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if("default"!==u&&{}.hasOwnProperty.call(t,u)){var s=o?Object.getOwnPropertyDescriptor(t,u):null;s&&(s.get||s.set)?Object.defineProperty(a,u,s):a[u]=t[u]}return a.default=t,n&&n.set(t,a),a}function n(){var r=new t.ARRAY_TYPE(6);return t.ARRAY_TYPE!=Float32Array&&(r[1]=0,r[2]=0,r[4]=0,r[5]=0),r[0]=1,r[3]=1,r}function a(r){var e=new t.ARRAY_TYPE(6);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e}function o(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t}function u(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function s(r,e,n,a,o,u){var s=new t.ARRAY_TYPE(6);return s[0]=r,s[1]=e,s[2]=n,s[3]=a,s[4]=o,s[5]=u,s}function i(t,r,e,n,a,o,u){return t[0]=r,t[1]=e,t[2]=n,t[3]=a,t[4]=o,t[5]=u,t}function c(t,r){var e=r[0],n=r[1],a=r[2],o=r[3],u=r[4],s=r[5],i=e*o-n*a;return i?(i=1/i,t[0]=o*i,t[1]=-n*i,t[2]=-a*i,t[3]=e*i,t[4]=(a*s-o*u)*i,t[5]=(n*u-e*s)*i,t):null}function f(t){return t[0]*t[3]-t[1]*t[2]}function p(t,r,e){var n=r[0],a=r[1],o=r[2],u=r[3],s=r[4],i=r[5],c=e[0],f=e[1],p=e[2],l=e[3],x=e[4],M=e[5];return t[0]=n*c+o*f,t[1]=a*c+u*f,t[2]=n*p+o*l,t[3]=a*p+u*l,t[4]=n*x+o*M+s,t[5]=a*x+u*M+i,t}function l(t,r,e){var n=r[0],a=r[1],o=r[2],u=r[3],s=r[4],i=r[5],c=Math.sin(e),f=Math.cos(e);return t[0]=n*f+o*c,t[1]=a*f+u*c,t[2]=n*-c+o*f,t[3]=a*-c+u*f,t[4]=s,t[5]=i,t}function x(t,r,e){var n=r[0],a=r[1],o=r[2],u=r[3],s=r[4],i=r[5],c=e[0],f=e[1];return t[0]=n*c,t[1]=a*c,t[2]=o*f,t[3]=u*f,t[4]=s,t[5]=i,t}function M(t,r,e){var n=r[0],a=r[1],o=r[2],u=r[3],s=r[4],i=r[5],c=e[0],f=e[1];return t[0]=n,t[1]=a,t[2]=o,t[3]=u,t[4]=n*c+o*f+s,t[5]=a*c+u*f+i,t}function h(t,r){var e=Math.sin(r),n=Math.cos(r);return t[0]=n,t[1]=e,t[2]=-e,t[3]=n,t[4]=0,t[5]=0,t}function b(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=r[1],t[4]=0,t[5]=0,t}function v(t,r){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=r[0],t[5]=r[1],t}function m(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function d(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],1)}function y(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t[3]=r[3]+e[3],t[4]=r[4]+e[4],t[5]=r[5]+e[5],t}function P(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t[3]=r[3]-e[3],t[4]=r[4]-e[4],t[5]=r[5]-e[5],t}function O(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t[4]=r[4]*e,t[5]=r[5]*e,t}function _(t,r,e,n){return t[0]=r[0]+e[0]*n,t[1]=r[1]+e[1]*n,t[2]=r[2]+e[2]*n,t[3]=r[3]+e[3]*n,t[4]=r[4]+e[4]*n,t[5]=r[5]+e[5]*n,t}function A(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&t[4]===r[4]&&t[5]===r[5]}function E(r,e){var n=r[0],a=r[1],o=r[2],u=r[3],s=r[4],i=r[5],c=e[0],f=e[1],p=e[2],l=e[3],x=e[4],M=e[5];return Math.abs(n-c)<=t.EPSILON*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(a-f)<=t.EPSILON*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(o-p)<=t.EPSILON*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(u-l)<=t.EPSILON*Math.max(1,Math.abs(u),Math.abs(l))&&Math.abs(s-x)<=t.EPSILON*Math.max(1,Math.abs(s),Math.abs(x))&&Math.abs(i-M)<=t.EPSILON*Math.max(1,Math.abs(i),Math.abs(M))}var R=exports.mul=p,S=exports.sub=P;
},{"./common.js":"XJqx"}],"vtQf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.add=j,exports.adjoint=M,exports.clone=o,exports.copy=u,exports.create=a,exports.determinant=x,exports.equals=w,exports.exactEquals=R,exports.frob=A,exports.fromMat2d=O,exports.fromMat4=e,exports.fromQuat=y,exports.fromRotation=d,exports.fromScaling=P,exports.fromTranslation=v,exports.fromValues=s,exports.identity=f,exports.invert=p,exports.mul=void 0,exports.multiply=h,exports.multiplyScalar=L,exports.multiplyScalarAndAdd=N,exports.normalFromMat4=E,exports.projection=S,exports.rotate=b,exports.scale=m,exports.set=i,exports.str=_,exports.sub=void 0,exports.subtract=I,exports.translate=l,exports.transpose=c;var t=n(require("./common.js"));function r(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,a=new WeakMap;return(r=function(t){return t?a:n})(t)}function n(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var a=r(n);if(a&&a.has(t))return a.get(t);var e={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if("default"!==u&&{}.hasOwnProperty.call(t,u)){var s=o?Object.getOwnPropertyDescriptor(t,u):null;s&&(s.get||s.set)?Object.defineProperty(e,u,s):e[u]=t[u]}return e.default=t,a&&a.set(t,e),e}function a(){var r=new t.ARRAY_TYPE(9);return t.ARRAY_TYPE!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[5]=0,r[6]=0,r[7]=0),r[0]=1,r[4]=1,r[8]=1,r}function e(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[4],t[4]=r[5],t[5]=r[6],t[6]=r[8],t[7]=r[9],t[8]=r[10],t}function o(r){var n=new t.ARRAY_TYPE(9);return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n}function u(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t}function s(r,n,a,e,o,u,s,i,f){var c=new t.ARRAY_TYPE(9);return c[0]=r,c[1]=n,c[2]=a,c[3]=e,c[4]=o,c[5]=u,c[6]=s,c[7]=i,c[8]=f,c}function i(t,r,n,a,e,o,u,s,i,f){return t[0]=r,t[1]=n,t[2]=a,t[3]=e,t[4]=o,t[5]=u,t[6]=s,t[7]=i,t[8]=f,t}function f(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function c(t,r){if(t===r){var n=r[1],a=r[2],e=r[5];t[1]=r[3],t[2]=r[6],t[3]=n,t[5]=r[7],t[6]=a,t[7]=e}else t[0]=r[0],t[1]=r[3],t[2]=r[6],t[3]=r[1],t[4]=r[4],t[5]=r[7],t[6]=r[2],t[7]=r[5],t[8]=r[8];return t}function p(t,r){var n=r[0],a=r[1],e=r[2],o=r[3],u=r[4],s=r[5],i=r[6],f=r[7],c=r[8],p=c*u-s*f,M=-c*o+s*i,x=f*o-u*i,h=n*p+a*M+e*x;return h?(h=1/h,t[0]=p*h,t[1]=(-c*a+e*f)*h,t[2]=(s*a-e*u)*h,t[3]=M*h,t[4]=(c*n-e*i)*h,t[5]=(-s*n+e*o)*h,t[6]=x*h,t[7]=(-f*n+a*i)*h,t[8]=(u*n-a*o)*h,t):null}function M(t,r){var n=r[0],a=r[1],e=r[2],o=r[3],u=r[4],s=r[5],i=r[6],f=r[7],c=r[8];return t[0]=u*c-s*f,t[1]=e*f-a*c,t[2]=a*s-e*u,t[3]=s*i-o*c,t[4]=n*c-e*i,t[5]=e*o-n*s,t[6]=o*f-u*i,t[7]=a*i-n*f,t[8]=n*u-a*o,t}function x(t){var r=t[0],n=t[1],a=t[2],e=t[3],o=t[4],u=t[5],s=t[6],i=t[7],f=t[8];return r*(f*o-u*i)+n*(-f*e+u*s)+a*(i*e-o*s)}function h(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],s=r[4],i=r[5],f=r[6],c=r[7],p=r[8],M=n[0],x=n[1],h=n[2],l=n[3],b=n[4],m=n[5],v=n[6],d=n[7],P=n[8];return t[0]=M*a+x*u+h*f,t[1]=M*e+x*s+h*c,t[2]=M*o+x*i+h*p,t[3]=l*a+b*u+m*f,t[4]=l*e+b*s+m*c,t[5]=l*o+b*i+m*p,t[6]=v*a+d*u+P*f,t[7]=v*e+d*s+P*c,t[8]=v*o+d*i+P*p,t}function l(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],s=r[4],i=r[5],f=r[6],c=r[7],p=r[8],M=n[0],x=n[1];return t[0]=a,t[1]=e,t[2]=o,t[3]=u,t[4]=s,t[5]=i,t[6]=M*a+x*u+f,t[7]=M*e+x*s+c,t[8]=M*o+x*i+p,t}function b(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],s=r[4],i=r[5],f=r[6],c=r[7],p=r[8],M=Math.sin(n),x=Math.cos(n);return t[0]=x*a+M*u,t[1]=x*e+M*s,t[2]=x*o+M*i,t[3]=x*u-M*a,t[4]=x*s-M*e,t[5]=x*i-M*o,t[6]=f,t[7]=c,t[8]=p,t}function m(t,r,n){var a=n[0],e=n[1];return t[0]=a*r[0],t[1]=a*r[1],t[2]=a*r[2],t[3]=e*r[3],t[4]=e*r[4],t[5]=e*r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t}function v(t,r){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=r[0],t[7]=r[1],t[8]=1,t}function d(t,r){var n=Math.sin(r),a=Math.cos(r);return t[0]=a,t[1]=n,t[2]=0,t[3]=-n,t[4]=a,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function P(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=0,t[4]=r[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function O(t,r){return t[0]=r[0],t[1]=r[1],t[2]=0,t[3]=r[2],t[4]=r[3],t[5]=0,t[6]=r[4],t[7]=r[5],t[8]=1,t}function y(t,r){var n=r[0],a=r[1],e=r[2],o=r[3],u=n+n,s=a+a,i=e+e,f=n*u,c=a*u,p=a*s,M=e*u,x=e*s,h=e*i,l=o*u,b=o*s,m=o*i;return t[0]=1-p-h,t[3]=c-m,t[6]=M+b,t[1]=c+m,t[4]=1-f-h,t[7]=x-l,t[2]=M-b,t[5]=x+l,t[8]=1-f-p,t}function E(t,r){var n=r[0],a=r[1],e=r[2],o=r[3],u=r[4],s=r[5],i=r[6],f=r[7],c=r[8],p=r[9],M=r[10],x=r[11],h=r[12],l=r[13],b=r[14],m=r[15],v=n*s-a*u,d=n*i-e*u,P=n*f-o*u,O=a*i-e*s,y=a*f-o*s,E=e*f-o*i,S=c*l-p*h,_=c*b-M*h,A=c*m-x*h,j=p*b-M*l,I=p*m-x*l,L=M*m-x*b,N=v*L-d*I+P*j+O*A-y*_+E*S;return N?(N=1/N,t[0]=(s*L-i*I+f*j)*N,t[1]=(i*A-u*L-f*_)*N,t[2]=(u*I-s*A+f*S)*N,t[3]=(e*I-a*L-o*j)*N,t[4]=(n*L-e*A+o*_)*N,t[5]=(a*A-n*I-o*S)*N,t[6]=(l*E-b*y+m*O)*N,t[7]=(b*P-h*E-m*d)*N,t[8]=(h*y-l*P+m*v)*N,t):null}function S(t,r,n){return t[0]=2/r,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function _(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function A(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function j(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t[3]=r[3]+n[3],t[4]=r[4]+n[4],t[5]=r[5]+n[5],t[6]=r[6]+n[6],t[7]=r[7]+n[7],t[8]=r[8]+n[8],t}function I(t,r,n){return t[0]=r[0]-n[0],t[1]=r[1]-n[1],t[2]=r[2]-n[2],t[3]=r[3]-n[3],t[4]=r[4]-n[4],t[5]=r[5]-n[5],t[6]=r[6]-n[6],t[7]=r[7]-n[7],t[8]=r[8]-n[8],t}function L(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=r[3]*n,t[4]=r[4]*n,t[5]=r[5]*n,t[6]=r[6]*n,t[7]=r[7]*n,t[8]=r[8]*n,t}function N(t,r,n,a){return t[0]=r[0]+n[0]*a,t[1]=r[1]+n[1]*a,t[2]=r[2]+n[2]*a,t[3]=r[3]+n[3]*a,t[4]=r[4]+n[4]*a,t[5]=r[5]+n[5]*a,t[6]=r[6]+n[6]*a,t[7]=r[7]+n[7]*a,t[8]=r[8]+n[8]*a,t}function R(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&t[4]===r[4]&&t[5]===r[5]&&t[6]===r[6]&&t[7]===r[7]&&t[8]===r[8]}function w(r,n){var a=r[0],e=r[1],o=r[2],u=r[3],s=r[4],i=r[5],f=r[6],c=r[7],p=r[8],M=n[0],x=n[1],h=n[2],l=n[3],b=n[4],m=n[5],v=n[6],d=n[7],P=n[8];return Math.abs(a-M)<=t.EPSILON*Math.max(1,Math.abs(a),Math.abs(M))&&Math.abs(e-x)<=t.EPSILON*Math.max(1,Math.abs(e),Math.abs(x))&&Math.abs(o-h)<=t.EPSILON*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(u-l)<=t.EPSILON*Math.max(1,Math.abs(u),Math.abs(l))&&Math.abs(s-b)<=t.EPSILON*Math.max(1,Math.abs(s),Math.abs(b))&&Math.abs(i-m)<=t.EPSILON*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(f-v)<=t.EPSILON*Math.max(1,Math.abs(f),Math.abs(v))&&Math.abs(c-d)<=t.EPSILON*Math.max(1,Math.abs(c),Math.abs(d))&&Math.abs(p-P)<=t.EPSILON*Math.max(1,Math.abs(p),Math.abs(P))}var Y=exports.mul=h,g=exports.sub=I;
},{"./common.js":"XJqx"}],"w3aR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.add=B,exports.adjoint=p,exports.clone=e,exports.copy=o,exports.create=n,exports.determinant=c,exports.equals=K,exports.exactEquals=J,exports.frob=z,exports.fromQuat=w,exports.fromQuat2=L,exports.fromRotation=S,exports.fromRotationTranslation=d,exports.fromRotationTranslationScale=Y,exports.fromRotationTranslationScaleOrigin=_,exports.fromScaling=E,exports.fromTranslation=O,exports.fromValues=s,exports.fromXRotation=I,exports.fromYRotation=y,exports.fromZRotation=N,exports.frustum=T,exports.getRotation=A,exports.getScaling=g,exports.getTranslation=R,exports.identity=h,exports.invert=i,exports.lookAt=Q,exports.mul=void 0,exports.multiply=f,exports.multiplyScalar=G,exports.multiplyScalarAndAdd=H,exports.ortho=void 0,exports.orthoNO=Z,exports.orthoZO=W,exports.perspective=void 0,exports.perspectiveFromFieldOfView=k,exports.perspectiveNO=q,exports.perspectiveZO=D,exports.rotate=l,exports.rotateX=v,exports.rotateY=m,exports.rotateZ=P,exports.scale=b,exports.set=u,exports.str=X,exports.sub=void 0,exports.subtract=C,exports.targetTo=V,exports.translate=x,exports.transpose=M;var t=r(require("./common.js"));function a(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(a=function(t){return t?n:r})(t)}function r(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=a(r);if(n&&n.has(t))return n.get(t);var e={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&{}.hasOwnProperty.call(t,s)){var u=o?Object.getOwnPropertyDescriptor(t,s):null;u&&(u.get||u.set)?Object.defineProperty(e,s,u):e[s]=t[s]}return e.default=t,n&&n.set(t,e),e}function n(){var a=new t.ARRAY_TYPE(16);return t.ARRAY_TYPE!=Float32Array&&(a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[11]=0,a[12]=0,a[13]=0,a[14]=0),a[0]=1,a[5]=1,a[10]=1,a[15]=1,a}function e(a){var r=new t.ARRAY_TYPE(16);return r[0]=a[0],r[1]=a[1],r[2]=a[2],r[3]=a[3],r[4]=a[4],r[5]=a[5],r[6]=a[6],r[7]=a[7],r[8]=a[8],r[9]=a[9],r[10]=a[10],r[11]=a[11],r[12]=a[12],r[13]=a[13],r[14]=a[14],r[15]=a[15],r}function o(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t}function s(a,r,n,e,o,s,u,h,M,i,p,c,f,x,b,l){var v=new t.ARRAY_TYPE(16);return v[0]=a,v[1]=r,v[2]=n,v[3]=e,v[4]=o,v[5]=s,v[6]=u,v[7]=h,v[8]=M,v[9]=i,v[10]=p,v[11]=c,v[12]=f,v[13]=x,v[14]=b,v[15]=l,v}function u(t,a,r,n,e,o,s,u,h,M,i,p,c,f,x,b,l){return t[0]=a,t[1]=r,t[2]=n,t[3]=e,t[4]=o,t[5]=s,t[6]=u,t[7]=h,t[8]=M,t[9]=i,t[10]=p,t[11]=c,t[12]=f,t[13]=x,t[14]=b,t[15]=l,t}function h(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function M(t,a){if(t===a){var r=a[1],n=a[2],e=a[3],o=a[6],s=a[7],u=a[11];t[1]=a[4],t[2]=a[8],t[3]=a[12],t[4]=r,t[6]=a[9],t[7]=a[13],t[8]=n,t[9]=o,t[11]=a[14],t[12]=e,t[13]=s,t[14]=u}else t[0]=a[0],t[1]=a[4],t[2]=a[8],t[3]=a[12],t[4]=a[1],t[5]=a[5],t[6]=a[9],t[7]=a[13],t[8]=a[2],t[9]=a[6],t[10]=a[10],t[11]=a[14],t[12]=a[3],t[13]=a[7],t[14]=a[11],t[15]=a[15];return t}function i(t,a){var r=a[0],n=a[1],e=a[2],o=a[3],s=a[4],u=a[5],h=a[6],M=a[7],i=a[8],p=a[9],c=a[10],f=a[11],x=a[12],b=a[13],l=a[14],v=a[15],m=r*u-n*s,P=r*h-e*s,O=r*M-o*s,E=n*h-e*u,S=n*M-o*u,I=e*M-o*h,y=i*b-p*x,N=i*l-c*x,d=i*v-f*x,L=p*l-c*b,R=p*v-f*b,g=c*v-f*l,A=m*g-P*R+O*L+E*d-S*N+I*y;return A?(A=1/A,t[0]=(u*g-h*R+M*L)*A,t[1]=(e*R-n*g-o*L)*A,t[2]=(b*I-l*S+v*E)*A,t[3]=(c*S-p*I-f*E)*A,t[4]=(h*d-s*g-M*N)*A,t[5]=(r*g-e*d+o*N)*A,t[6]=(l*O-x*I-v*P)*A,t[7]=(i*I-c*O+f*P)*A,t[8]=(s*R-u*d+M*y)*A,t[9]=(n*d-r*R-o*y)*A,t[10]=(x*S-b*O+v*m)*A,t[11]=(p*O-i*S-f*m)*A,t[12]=(u*N-s*L-h*y)*A,t[13]=(r*L-n*N+e*y)*A,t[14]=(b*P-x*E-l*m)*A,t[15]=(i*E-p*P+c*m)*A,t):null}function p(t,a){var r=a[0],n=a[1],e=a[2],o=a[3],s=a[4],u=a[5],h=a[6],M=a[7],i=a[8],p=a[9],c=a[10],f=a[11],x=a[12],b=a[13],l=a[14],v=a[15];return t[0]=u*(c*v-f*l)-p*(h*v-M*l)+b*(h*f-M*c),t[1]=-(n*(c*v-f*l)-p*(e*v-o*l)+b*(e*f-o*c)),t[2]=n*(h*v-M*l)-u*(e*v-o*l)+b*(e*M-o*h),t[3]=-(n*(h*f-M*c)-u*(e*f-o*c)+p*(e*M-o*h)),t[4]=-(s*(c*v-f*l)-i*(h*v-M*l)+x*(h*f-M*c)),t[5]=r*(c*v-f*l)-i*(e*v-o*l)+x*(e*f-o*c),t[6]=-(r*(h*v-M*l)-s*(e*v-o*l)+x*(e*M-o*h)),t[7]=r*(h*f-M*c)-s*(e*f-o*c)+i*(e*M-o*h),t[8]=s*(p*v-f*b)-i*(u*v-M*b)+x*(u*f-M*p),t[9]=-(r*(p*v-f*b)-i*(n*v-o*b)+x*(n*f-o*p)),t[10]=r*(u*v-M*b)-s*(n*v-o*b)+x*(n*M-o*u),t[11]=-(r*(u*f-M*p)-s*(n*f-o*p)+i*(n*M-o*u)),t[12]=-(s*(p*l-c*b)-i*(u*l-h*b)+x*(u*c-h*p)),t[13]=r*(p*l-c*b)-i*(n*l-e*b)+x*(n*c-e*p),t[14]=-(r*(u*l-h*b)-s*(n*l-e*b)+x*(n*h-e*u)),t[15]=r*(u*c-h*p)-s*(n*c-e*p)+i*(n*h-e*u),t}function c(t){var a=t[0],r=t[1],n=t[2],e=t[3],o=t[4],s=t[5],u=t[6],h=t[7],M=t[8],i=t[9],p=t[10],c=t[11],f=t[12],x=t[13],b=t[14],l=t[15];return(a*s-r*o)*(p*l-c*b)-(a*u-n*o)*(i*l-c*x)+(a*h-e*o)*(i*b-p*x)+(r*u-n*s)*(M*l-c*f)-(r*h-e*s)*(M*b-p*f)+(n*h-e*u)*(M*x-i*f)}function f(t,a,r){var n=a[0],e=a[1],o=a[2],s=a[3],u=a[4],h=a[5],M=a[6],i=a[7],p=a[8],c=a[9],f=a[10],x=a[11],b=a[12],l=a[13],v=a[14],m=a[15],P=r[0],O=r[1],E=r[2],S=r[3];return t[0]=P*n+O*u+E*p+S*b,t[1]=P*e+O*h+E*c+S*l,t[2]=P*o+O*M+E*f+S*v,t[3]=P*s+O*i+E*x+S*m,P=r[4],O=r[5],E=r[6],S=r[7],t[4]=P*n+O*u+E*p+S*b,t[5]=P*e+O*h+E*c+S*l,t[6]=P*o+O*M+E*f+S*v,t[7]=P*s+O*i+E*x+S*m,P=r[8],O=r[9],E=r[10],S=r[11],t[8]=P*n+O*u+E*p+S*b,t[9]=P*e+O*h+E*c+S*l,t[10]=P*o+O*M+E*f+S*v,t[11]=P*s+O*i+E*x+S*m,P=r[12],O=r[13],E=r[14],S=r[15],t[12]=P*n+O*u+E*p+S*b,t[13]=P*e+O*h+E*c+S*l,t[14]=P*o+O*M+E*f+S*v,t[15]=P*s+O*i+E*x+S*m,t}function x(t,a,r){var n,e,o,s,u,h,M,i,p,c,f,x,b=r[0],l=r[1],v=r[2];return a===t?(t[12]=a[0]*b+a[4]*l+a[8]*v+a[12],t[13]=a[1]*b+a[5]*l+a[9]*v+a[13],t[14]=a[2]*b+a[6]*l+a[10]*v+a[14],t[15]=a[3]*b+a[7]*l+a[11]*v+a[15]):(n=a[0],e=a[1],o=a[2],s=a[3],u=a[4],h=a[5],M=a[6],i=a[7],p=a[8],c=a[9],f=a[10],x=a[11],t[0]=n,t[1]=e,t[2]=o,t[3]=s,t[4]=u,t[5]=h,t[6]=M,t[7]=i,t[8]=p,t[9]=c,t[10]=f,t[11]=x,t[12]=n*b+u*l+p*v+a[12],t[13]=e*b+h*l+c*v+a[13],t[14]=o*b+M*l+f*v+a[14],t[15]=s*b+i*l+x*v+a[15]),t}function b(t,a,r){var n=r[0],e=r[1],o=r[2];return t[0]=a[0]*n,t[1]=a[1]*n,t[2]=a[2]*n,t[3]=a[3]*n,t[4]=a[4]*e,t[5]=a[5]*e,t[6]=a[6]*e,t[7]=a[7]*e,t[8]=a[8]*o,t[9]=a[9]*o,t[10]=a[10]*o,t[11]=a[11]*o,t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t}function l(a,r,n,e){var o,s,u,h,M,i,p,c,f,x,b,l,v,m,P,O,E,S,I,y,N,d,L,R,g=e[0],A=e[1],Y=e[2],_=Math.hypot(g,A,Y);return _<t.EPSILON?null:(g*=_=1/_,A*=_,Y*=_,o=Math.sin(n),u=1-(s=Math.cos(n)),h=r[0],M=r[1],i=r[2],p=r[3],c=r[4],f=r[5],x=r[6],b=r[7],l=r[8],v=r[9],m=r[10],P=r[11],O=g*g*u+s,E=A*g*u+Y*o,S=Y*g*u-A*o,I=g*A*u-Y*o,y=A*A*u+s,N=Y*A*u+g*o,d=g*Y*u+A*o,L=A*Y*u-g*o,R=Y*Y*u+s,a[0]=h*O+c*E+l*S,a[1]=M*O+f*E+v*S,a[2]=i*O+x*E+m*S,a[3]=p*O+b*E+P*S,a[4]=h*I+c*y+l*N,a[5]=M*I+f*y+v*N,a[6]=i*I+x*y+m*N,a[7]=p*I+b*y+P*N,a[8]=h*d+c*L+l*R,a[9]=M*d+f*L+v*R,a[10]=i*d+x*L+m*R,a[11]=p*d+b*L+P*R,r!==a&&(a[12]=r[12],a[13]=r[13],a[14]=r[14],a[15]=r[15]),a)}function v(t,a,r){var n=Math.sin(r),e=Math.cos(r),o=a[4],s=a[5],u=a[6],h=a[7],M=a[8],i=a[9],p=a[10],c=a[11];return a!==t&&(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[4]=o*e+M*n,t[5]=s*e+i*n,t[6]=u*e+p*n,t[7]=h*e+c*n,t[8]=M*e-o*n,t[9]=i*e-s*n,t[10]=p*e-u*n,t[11]=c*e-h*n,t}function m(t,a,r){var n=Math.sin(r),e=Math.cos(r),o=a[0],s=a[1],u=a[2],h=a[3],M=a[8],i=a[9],p=a[10],c=a[11];return a!==t&&(t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[0]=o*e-M*n,t[1]=s*e-i*n,t[2]=u*e-p*n,t[3]=h*e-c*n,t[8]=o*n+M*e,t[9]=s*n+i*e,t[10]=u*n+p*e,t[11]=h*n+c*e,t}function P(t,a,r){var n=Math.sin(r),e=Math.cos(r),o=a[0],s=a[1],u=a[2],h=a[3],M=a[4],i=a[5],p=a[6],c=a[7];return a!==t&&(t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[0]=o*e+M*n,t[1]=s*e+i*n,t[2]=u*e+p*n,t[3]=h*e+c*n,t[4]=M*e-o*n,t[5]=i*e-s*n,t[6]=p*e-u*n,t[7]=c*e-h*n,t}function O(t,a){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=a[0],t[13]=a[1],t[14]=a[2],t[15]=1,t}function E(t,a){return t[0]=a[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=a[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function S(a,r,n){var e,o,s,u=n[0],h=n[1],M=n[2],i=Math.hypot(u,h,M);return i<t.EPSILON?null:(u*=i=1/i,h*=i,M*=i,e=Math.sin(r),s=1-(o=Math.cos(r)),a[0]=u*u*s+o,a[1]=h*u*s+M*e,a[2]=M*u*s-h*e,a[3]=0,a[4]=u*h*s-M*e,a[5]=h*h*s+o,a[6]=M*h*s+u*e,a[7]=0,a[8]=u*M*s+h*e,a[9]=h*M*s-u*e,a[10]=M*M*s+o,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a)}function I(t,a){var r=Math.sin(a),n=Math.cos(a);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function y(t,a){var r=Math.sin(a),n=Math.cos(a);return t[0]=n,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function N(t,a){var r=Math.sin(a),n=Math.cos(a);return t[0]=n,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function d(t,a,r){var n=a[0],e=a[1],o=a[2],s=a[3],u=n+n,h=e+e,M=o+o,i=n*u,p=n*h,c=n*M,f=e*h,x=e*M,b=o*M,l=s*u,v=s*h,m=s*M;return t[0]=1-(f+b),t[1]=p+m,t[2]=c-v,t[3]=0,t[4]=p-m,t[5]=1-(i+b),t[6]=x+l,t[7]=0,t[8]=c+v,t[9]=x-l,t[10]=1-(i+f),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function L(a,r){var n=new t.ARRAY_TYPE(3),e=-r[0],o=-r[1],s=-r[2],u=r[3],h=r[4],M=r[5],i=r[6],p=r[7],c=e*e+o*o+s*s+u*u;return c>0?(n[0]=2*(h*u+p*e+M*s-i*o)/c,n[1]=2*(M*u+p*o+i*e-h*s)/c,n[2]=2*(i*u+p*s+h*o-M*e)/c):(n[0]=2*(h*u+p*e+M*s-i*o),n[1]=2*(M*u+p*o+i*e-h*s),n[2]=2*(i*u+p*s+h*o-M*e)),d(a,r,n),a}function R(t,a){return t[0]=a[12],t[1]=a[13],t[2]=a[14],t}function g(t,a){var r=a[0],n=a[1],e=a[2],o=a[4],s=a[5],u=a[6],h=a[8],M=a[9],i=a[10];return t[0]=Math.hypot(r,n,e),t[1]=Math.hypot(o,s,u),t[2]=Math.hypot(h,M,i),t}function A(a,r){var n=new t.ARRAY_TYPE(3);g(n,r);var e=1/n[0],o=1/n[1],s=1/n[2],u=r[0]*e,h=r[1]*o,M=r[2]*s,i=r[4]*e,p=r[5]*o,c=r[6]*s,f=r[8]*e,x=r[9]*o,b=r[10]*s,l=u+p+b,v=0;return l>0?(v=2*Math.sqrt(l+1),a[3]=.25*v,a[0]=(c-x)/v,a[1]=(f-M)/v,a[2]=(h-i)/v):u>p&&u>b?(v=2*Math.sqrt(1+u-p-b),a[3]=(c-x)/v,a[0]=.25*v,a[1]=(h+i)/v,a[2]=(f+M)/v):p>b?(v=2*Math.sqrt(1+p-u-b),a[3]=(f-M)/v,a[0]=(h+i)/v,a[1]=.25*v,a[2]=(c+x)/v):(v=2*Math.sqrt(1+b-u-p),a[3]=(h-i)/v,a[0]=(f+M)/v,a[1]=(c+x)/v,a[2]=.25*v),a}function Y(t,a,r,n){var e=a[0],o=a[1],s=a[2],u=a[3],h=e+e,M=o+o,i=s+s,p=e*h,c=e*M,f=e*i,x=o*M,b=o*i,l=s*i,v=u*h,m=u*M,P=u*i,O=n[0],E=n[1],S=n[2];return t[0]=(1-(x+l))*O,t[1]=(c+P)*O,t[2]=(f-m)*O,t[3]=0,t[4]=(c-P)*E,t[5]=(1-(p+l))*E,t[6]=(b+v)*E,t[7]=0,t[8]=(f+m)*S,t[9]=(b-v)*S,t[10]=(1-(p+x))*S,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function _(t,a,r,n,e){var o=a[0],s=a[1],u=a[2],h=a[3],M=o+o,i=s+s,p=u+u,c=o*M,f=o*i,x=o*p,b=s*i,l=s*p,v=u*p,m=h*M,P=h*i,O=h*p,E=n[0],S=n[1],I=n[2],y=e[0],N=e[1],d=e[2],L=(1-(b+v))*E,R=(f+O)*E,g=(x-P)*E,A=(f-O)*S,Y=(1-(c+v))*S,_=(l+m)*S,w=(x+P)*I,T=(l-m)*I,q=(1-(c+b))*I;return t[0]=L,t[1]=R,t[2]=g,t[3]=0,t[4]=A,t[5]=Y,t[6]=_,t[7]=0,t[8]=w,t[9]=T,t[10]=q,t[11]=0,t[12]=r[0]+y-(L*y+A*N+w*d),t[13]=r[1]+N-(R*y+Y*N+T*d),t[14]=r[2]+d-(g*y+_*N+q*d),t[15]=1,t}function w(t,a){var r=a[0],n=a[1],e=a[2],o=a[3],s=r+r,u=n+n,h=e+e,M=r*s,i=n*s,p=n*u,c=e*s,f=e*u,x=e*h,b=o*s,l=o*u,v=o*h;return t[0]=1-p-x,t[1]=i+v,t[2]=c-l,t[3]=0,t[4]=i-v,t[5]=1-M-x,t[6]=f+b,t[7]=0,t[8]=c+l,t[9]=f-b,t[10]=1-M-p,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function T(t,a,r,n,e,o,s){var u=1/(r-a),h=1/(e-n),M=1/(o-s);return t[0]=2*o*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*h,t[6]=0,t[7]=0,t[8]=(r+a)*u,t[9]=(e+n)*h,t[10]=(s+o)*M,t[11]=-1,t[12]=0,t[13]=0,t[14]=s*o*2*M,t[15]=0,t}function q(t,a,r,n,e){var o,s=1/Math.tan(a/2);return t[0]=s/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=e&&e!==1/0?(o=1/(n-e),t[10]=(e+n)*o,t[14]=2*e*n*o):(t[10]=-1,t[14]=-2*n),t}var j=exports.perspective=q;function D(t,a,r,n,e){var o,s=1/Math.tan(a/2);return t[0]=s/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=e&&e!==1/0?(o=1/(n-e),t[10]=e*o,t[14]=e*n*o):(t[10]=-1,t[14]=-n),t}function k(t,a,r,n){var e=Math.tan(a.upDegrees*Math.PI/180),o=Math.tan(a.downDegrees*Math.PI/180),s=Math.tan(a.leftDegrees*Math.PI/180),u=Math.tan(a.rightDegrees*Math.PI/180),h=2/(s+u),M=2/(e+o);return t[0]=h,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=M,t[6]=0,t[7]=0,t[8]=-(s-u)*h*.5,t[9]=(e-o)*M*.5,t[10]=n/(r-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*r/(r-n),t[15]=0,t}function Z(t,a,r,n,e,o,s){var u=1/(a-r),h=1/(n-e),M=1/(o-s);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*h,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*M,t[11]=0,t[12]=(a+r)*u,t[13]=(e+n)*h,t[14]=(s+o)*M,t[15]=1,t}var F=exports.ortho=Z;function W(t,a,r,n,e,o,s){var u=1/(a-r),h=1/(n-e),M=1/(o-s);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*h,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=M,t[11]=0,t[12]=(a+r)*u,t[13]=(e+n)*h,t[14]=o*M,t[15]=1,t}function Q(a,r,n,e){var o,s,u,M,i,p,c,f,x,b,l=r[0],v=r[1],m=r[2],P=e[0],O=e[1],E=e[2],S=n[0],I=n[1],y=n[2];return Math.abs(l-S)<t.EPSILON&&Math.abs(v-I)<t.EPSILON&&Math.abs(m-y)<t.EPSILON?h(a):(c=l-S,f=v-I,x=m-y,o=O*(x*=b=1/Math.hypot(c,f,x))-E*(f*=b),s=E*(c*=b)-P*x,u=P*f-O*c,(b=Math.hypot(o,s,u))?(o*=b=1/b,s*=b,u*=b):(o=0,s=0,u=0),M=f*u-x*s,i=x*o-c*u,p=c*s-f*o,(b=Math.hypot(M,i,p))?(M*=b=1/b,i*=b,p*=b):(M=0,i=0,p=0),a[0]=o,a[1]=M,a[2]=c,a[3]=0,a[4]=s,a[5]=i,a[6]=f,a[7]=0,a[8]=u,a[9]=p,a[10]=x,a[11]=0,a[12]=-(o*l+s*v+u*m),a[13]=-(M*l+i*v+p*m),a[14]=-(c*l+f*v+x*m),a[15]=1,a)}function V(t,a,r,n){var e=a[0],o=a[1],s=a[2],u=n[0],h=n[1],M=n[2],i=e-r[0],p=o-r[1],c=s-r[2],f=i*i+p*p+c*c;f>0&&(i*=f=1/Math.sqrt(f),p*=f,c*=f);var x=h*c-M*p,b=M*i-u*c,l=u*p-h*i;return(f=x*x+b*b+l*l)>0&&(x*=f=1/Math.sqrt(f),b*=f,l*=f),t[0]=x,t[1]=b,t[2]=l,t[3]=0,t[4]=p*l-c*b,t[5]=c*x-i*l,t[6]=i*b-p*x,t[7]=0,t[8]=i,t[9]=p,t[10]=c,t[11]=0,t[12]=e,t[13]=o,t[14]=s,t[15]=1,t}function X(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function z(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function B(t,a,r){return t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t[3]=a[3]+r[3],t[4]=a[4]+r[4],t[5]=a[5]+r[5],t[6]=a[6]+r[6],t[7]=a[7]+r[7],t[8]=a[8]+r[8],t[9]=a[9]+r[9],t[10]=a[10]+r[10],t[11]=a[11]+r[11],t[12]=a[12]+r[12],t[13]=a[13]+r[13],t[14]=a[14]+r[14],t[15]=a[15]+r[15],t}function C(t,a,r){return t[0]=a[0]-r[0],t[1]=a[1]-r[1],t[2]=a[2]-r[2],t[3]=a[3]-r[3],t[4]=a[4]-r[4],t[5]=a[5]-r[5],t[6]=a[6]-r[6],t[7]=a[7]-r[7],t[8]=a[8]-r[8],t[9]=a[9]-r[9],t[10]=a[10]-r[10],t[11]=a[11]-r[11],t[12]=a[12]-r[12],t[13]=a[13]-r[13],t[14]=a[14]-r[14],t[15]=a[15]-r[15],t}function G(t,a,r){return t[0]=a[0]*r,t[1]=a[1]*r,t[2]=a[2]*r,t[3]=a[3]*r,t[4]=a[4]*r,t[5]=a[5]*r,t[6]=a[6]*r,t[7]=a[7]*r,t[8]=a[8]*r,t[9]=a[9]*r,t[10]=a[10]*r,t[11]=a[11]*r,t[12]=a[12]*r,t[13]=a[13]*r,t[14]=a[14]*r,t[15]=a[15]*r,t}function H(t,a,r,n){return t[0]=a[0]+r[0]*n,t[1]=a[1]+r[1]*n,t[2]=a[2]+r[2]*n,t[3]=a[3]+r[3]*n,t[4]=a[4]+r[4]*n,t[5]=a[5]+r[5]*n,t[6]=a[6]+r[6]*n,t[7]=a[7]+r[7]*n,t[8]=a[8]+r[8]*n,t[9]=a[9]+r[9]*n,t[10]=a[10]+r[10]*n,t[11]=a[11]+r[11]*n,t[12]=a[12]+r[12]*n,t[13]=a[13]+r[13]*n,t[14]=a[14]+r[14]*n,t[15]=a[15]+r[15]*n,t}function J(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]&&t[3]===a[3]&&t[4]===a[4]&&t[5]===a[5]&&t[6]===a[6]&&t[7]===a[7]&&t[8]===a[8]&&t[9]===a[9]&&t[10]===a[10]&&t[11]===a[11]&&t[12]===a[12]&&t[13]===a[13]&&t[14]===a[14]&&t[15]===a[15]}function K(a,r){var n=a[0],e=a[1],o=a[2],s=a[3],u=a[4],h=a[5],M=a[6],i=a[7],p=a[8],c=a[9],f=a[10],x=a[11],b=a[12],l=a[13],v=a[14],m=a[15],P=r[0],O=r[1],E=r[2],S=r[3],I=r[4],y=r[5],N=r[6],d=r[7],L=r[8],R=r[9],g=r[10],A=r[11],Y=r[12],_=r[13],w=r[14],T=r[15];return Math.abs(n-P)<=t.EPSILON*Math.max(1,Math.abs(n),Math.abs(P))&&Math.abs(e-O)<=t.EPSILON*Math.max(1,Math.abs(e),Math.abs(O))&&Math.abs(o-E)<=t.EPSILON*Math.max(1,Math.abs(o),Math.abs(E))&&Math.abs(s-S)<=t.EPSILON*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(u-I)<=t.EPSILON*Math.max(1,Math.abs(u),Math.abs(I))&&Math.abs(h-y)<=t.EPSILON*Math.max(1,Math.abs(h),Math.abs(y))&&Math.abs(M-N)<=t.EPSILON*Math.max(1,Math.abs(M),Math.abs(N))&&Math.abs(i-d)<=t.EPSILON*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(p-L)<=t.EPSILON*Math.max(1,Math.abs(p),Math.abs(L))&&Math.abs(c-R)<=t.EPSILON*Math.max(1,Math.abs(c),Math.abs(R))&&Math.abs(f-g)<=t.EPSILON*Math.max(1,Math.abs(f),Math.abs(g))&&Math.abs(x-A)<=t.EPSILON*Math.max(1,Math.abs(x),Math.abs(A))&&Math.abs(b-Y)<=t.EPSILON*Math.max(1,Math.abs(b),Math.abs(Y))&&Math.abs(l-_)<=t.EPSILON*Math.max(1,Math.abs(l),Math.abs(_))&&Math.abs(v-w)<=t.EPSILON*Math.max(1,Math.abs(v),Math.abs(w))&&Math.abs(m-T)<=t.EPSILON*Math.max(1,Math.abs(m),Math.abs(T))}var U=exports.mul=f,$=exports.sub=C;
},{"./common.js":"XJqx"}],"AWBd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.add=c,exports.angle=z,exports.bezier=w,exports.ceil=h,exports.clone=o,exports.copy=u,exports.create=e,exports.cross=E,exports.dist=void 0,exports.distance=y,exports.div=void 0,exports.divide=x,exports.dot=g,exports.equals=Q,exports.exactEquals=F,exports.floor=M,exports.forEach=void 0,exports.fromValues=s,exports.hermite=Y,exports.inverse=O,exports.len=void 0,exports.length=a,exports.lerp=R,exports.max=v,exports.min=l,exports.mul=void 0,exports.multiply=f,exports.negate=A,exports.normalize=_,exports.random=j,exports.rotateX=I,exports.rotateY=T,exports.rotateZ=k,exports.round=d,exports.scale=m,exports.scaleAndAdd=b,exports.set=i,exports.sqrLen=exports.sqrDist=void 0,exports.squaredDistance=P,exports.squaredLength=q,exports.str=W,exports.sub=void 0,exports.subtract=p,exports.transformMat3=L,exports.transformMat4=D,exports.transformQuat=N,exports.zero=S;var t=n(require("./common.js"));function r(t){if("function"!=typeof WeakMap)return null;var n=new WeakMap,e=new WeakMap;return(r=function(t){return t?e:n})(t)}function n(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=r(n);if(e&&e.has(t))return e.get(t);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&{}.hasOwnProperty.call(t,s)){var u=a?Object.getOwnPropertyDescriptor(t,s):null;u&&(u.get||u.set)?Object.defineProperty(o,s,u):o[s]=t[s]}return o.default=t,e&&e.set(t,o),o}function e(){var r=new t.ARRAY_TYPE(3);return t.ARRAY_TYPE!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r}function o(r){var n=new t.ARRAY_TYPE(3);return n[0]=r[0],n[1]=r[1],n[2]=r[2],n}function a(t){var r=t[0],n=t[1],e=t[2];return Math.hypot(r,n,e)}function s(r,n,e){var o=new t.ARRAY_TYPE(3);return o[0]=r,o[1]=n,o[2]=e,o}function u(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t}function i(t,r,n,e){return t[0]=r,t[1]=n,t[2]=e,t}function c(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t}function p(t,r,n){return t[0]=r[0]-n[0],t[1]=r[1]-n[1],t[2]=r[2]-n[2],t}function f(t,r,n){return t[0]=r[0]*n[0],t[1]=r[1]*n[1],t[2]=r[2]*n[2],t}function x(t,r,n){return t[0]=r[0]/n[0],t[1]=r[1]/n[1],t[2]=r[2]/n[2],t}function h(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t[2]=Math.ceil(r[2]),t}function M(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t[2]=Math.floor(r[2]),t}function l(t,r,n){return t[0]=Math.min(r[0],n[0]),t[1]=Math.min(r[1],n[1]),t[2]=Math.min(r[2],n[2]),t}function v(t,r,n){return t[0]=Math.max(r[0],n[0]),t[1]=Math.max(r[1],n[1]),t[2]=Math.max(r[2],n[2]),t}function d(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t[2]=Math.round(r[2]),t}function m(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t}function b(t,r,n,e){return t[0]=r[0]+n[0]*e,t[1]=r[1]+n[1]*e,t[2]=r[2]+n[2]*e,t}function y(t,r){var n=r[0]-t[0],e=r[1]-t[1],o=r[2]-t[2];return Math.hypot(n,e,o)}function P(t,r){var n=r[0]-t[0],e=r[1]-t[1],o=r[2]-t[2];return n*n+e*e+o*o}function q(t){var r=t[0],n=t[1],e=t[2];return r*r+n*n+e*e}function A(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t}function O(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t}function _(t,r){var n=r[0],e=r[1],o=r[2],a=n*n+e*e+o*o;return a>0&&(a=1/Math.sqrt(a)),t[0]=r[0]*a,t[1]=r[1]*a,t[2]=r[2]*a,t}function g(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]}function E(t,r,n){var e=r[0],o=r[1],a=r[2],s=n[0],u=n[1],i=n[2];return t[0]=o*i-a*u,t[1]=a*s-e*i,t[2]=e*u-o*s,t}function R(t,r,n,e){var o=r[0],a=r[1],s=r[2];return t[0]=o+e*(n[0]-o),t[1]=a+e*(n[1]-a),t[2]=s+e*(n[2]-s),t}function Y(t,r,n,e,o,a){var s=a*a,u=s*(2*a-3)+1,i=s*(a-2)+a,c=s*(a-1),p=s*(3-2*a);return t[0]=r[0]*u+n[0]*i+e[0]*c+o[0]*p,t[1]=r[1]*u+n[1]*i+e[1]*c+o[1]*p,t[2]=r[2]*u+n[2]*i+e[2]*c+o[2]*p,t}function w(t,r,n,e,o,a){var s=1-a,u=s*s,i=a*a,c=u*s,p=3*a*u,f=3*i*s,x=i*a;return t[0]=r[0]*c+n[0]*p+e[0]*f+o[0]*x,t[1]=r[1]*c+n[1]*p+e[1]*f+o[1]*x,t[2]=r[2]*c+n[2]*p+e[2]*f+o[2]*x,t}function j(r,n){n=n||1;var e=2*t.RANDOM()*Math.PI,o=2*t.RANDOM()-1,a=Math.sqrt(1-o*o)*n;return r[0]=Math.cos(e)*a,r[1]=Math.sin(e)*a,r[2]=o*n,r}function D(t,r,n){var e=r[0],o=r[1],a=r[2],s=n[3]*e+n[7]*o+n[11]*a+n[15];return s=s||1,t[0]=(n[0]*e+n[4]*o+n[8]*a+n[12])/s,t[1]=(n[1]*e+n[5]*o+n[9]*a+n[13])/s,t[2]=(n[2]*e+n[6]*o+n[10]*a+n[14])/s,t}function L(t,r,n){var e=r[0],o=r[1],a=r[2];return t[0]=e*n[0]+o*n[3]+a*n[6],t[1]=e*n[1]+o*n[4]+a*n[7],t[2]=e*n[2]+o*n[5]+a*n[8],t}function N(t,r,n){var e=n[0],o=n[1],a=n[2],s=n[3],u=r[0],i=r[1],c=r[2],p=o*c-a*i,f=a*u-e*c,x=e*i-o*u,h=o*x-a*f,M=a*p-e*x,l=e*f-o*p,v=2*s;return p*=v,f*=v,x*=v,h*=2,M*=2,l*=2,t[0]=u+p+h,t[1]=i+f+M,t[2]=c+x+l,t}function I(t,r,n,e){var o=[],a=[];return o[0]=r[0]-n[0],o[1]=r[1]-n[1],o[2]=r[2]-n[2],a[0]=o[0],a[1]=o[1]*Math.cos(e)-o[2]*Math.sin(e),a[2]=o[1]*Math.sin(e)+o[2]*Math.cos(e),t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t}function T(t,r,n,e){var o=[],a=[];return o[0]=r[0]-n[0],o[1]=r[1]-n[1],o[2]=r[2]-n[2],a[0]=o[2]*Math.sin(e)+o[0]*Math.cos(e),a[1]=o[1],a[2]=o[2]*Math.cos(e)-o[0]*Math.sin(e),t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t}function k(t,r,n,e){var o=[],a=[];return o[0]=r[0]-n[0],o[1]=r[1]-n[1],o[2]=r[2]-n[2],a[0]=o[0]*Math.cos(e)-o[1]*Math.sin(e),a[1]=o[0]*Math.sin(e)+o[1]*Math.cos(e),a[2]=o[2],t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t}function z(t,r){var n=t[0],e=t[1],o=t[2],a=r[0],s=r[1],u=r[2],i=Math.sqrt(n*n+e*e+o*o)*Math.sqrt(a*a+s*s+u*u),c=i&&g(t,r)/i;return Math.acos(Math.min(Math.max(c,-1),1))}function S(t){return t[0]=0,t[1]=0,t[2]=0,t}function W(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function F(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]}function Q(r,n){var e=r[0],o=r[1],a=r[2],s=n[0],u=n[1],i=n[2];return Math.abs(e-s)<=t.EPSILON*Math.max(1,Math.abs(e),Math.abs(s))&&Math.abs(o-u)<=t.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))&&Math.abs(a-i)<=t.EPSILON*Math.max(1,Math.abs(a),Math.abs(i))}var V=exports.sub=p,X=exports.mul=f,Z=exports.div=x,B=exports.dist=y,C=exports.sqrDist=P,G=exports.len=a,H=exports.sqrLen=q,J=exports.forEach=function(){var t=e();return function(r,n,e,o,a,s){var u,i;for(n||(n=3),e||(e=0),i=o?Math.min(o*n+e,r.length):r.length,u=e;u<i;u+=n)t[0]=r[u],t[1]=r[u+1],t[2]=r[u+2],a(t,t,s),r[u]=t[0],r[u+1]=t[1],r[u+2]=t[2];return r}}();
},{"./common.js":"XJqx"}],"zWbG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.add=i,exports.ceil=x,exports.clone=o,exports.copy=u,exports.create=n,exports.cross=E,exports.dist=void 0,exports.distance=b,exports.div=void 0,exports.divide=f,exports.dot=q,exports.equals=I,exports.exactEquals=L,exports.floor=h,exports.forEach=void 0,exports.fromValues=a,exports.inverse=R,exports.len=void 0,exports.length=A,exports.lerp=w,exports.max=l,exports.min=M,exports.mul=void 0,exports.multiply=c,exports.negate=P,exports.normalize=_,exports.random=g,exports.round=d,exports.scale=v,exports.scaleAndAdd=m,exports.set=s,exports.sqrLen=exports.sqrDist=void 0,exports.squaredDistance=O,exports.squaredLength=y,exports.str=j,exports.sub=void 0,exports.subtract=p,exports.transformMat4=D,exports.transformQuat=N,exports.zero=Y;var t=e(require("./common.js"));function r(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(r=function(t){return t?n:e})(t)}function e(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=r(e);if(n&&n.has(t))return n.get(t);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if("default"!==u&&{}.hasOwnProperty.call(t,u)){var s=a?Object.getOwnPropertyDescriptor(t,u):null;s&&(s.get||s.set)?Object.defineProperty(o,u,s):o[u]=t[u]}return o.default=t,n&&n.set(t,o),o}function n(){var r=new t.ARRAY_TYPE(4);return t.ARRAY_TYPE!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0,r[3]=0),r}function o(r){var e=new t.ARRAY_TYPE(4);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e}function a(r,e,n,o){var a=new t.ARRAY_TYPE(4);return a[0]=r,a[1]=e,a[2]=n,a[3]=o,a}function u(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}function s(t,r,e,n,o){return t[0]=r,t[1]=e,t[2]=n,t[3]=o,t}function i(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t[3]=r[3]+e[3],t}function p(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t[3]=r[3]-e[3],t}function c(t,r,e){return t[0]=r[0]*e[0],t[1]=r[1]*e[1],t[2]=r[2]*e[2],t[3]=r[3]*e[3],t}function f(t,r,e){return t[0]=r[0]/e[0],t[1]=r[1]/e[1],t[2]=r[2]/e[2],t[3]=r[3]/e[3],t}function x(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t[2]=Math.ceil(r[2]),t[3]=Math.ceil(r[3]),t}function h(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t[2]=Math.floor(r[2]),t[3]=Math.floor(r[3]),t}function M(t,r,e){return t[0]=Math.min(r[0],e[0]),t[1]=Math.min(r[1],e[1]),t[2]=Math.min(r[2],e[2]),t[3]=Math.min(r[3],e[3]),t}function l(t,r,e){return t[0]=Math.max(r[0],e[0]),t[1]=Math.max(r[1],e[1]),t[2]=Math.max(r[2],e[2]),t[3]=Math.max(r[3],e[3]),t}function d(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t[2]=Math.round(r[2]),t[3]=Math.round(r[3]),t}function v(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t}function m(t,r,e,n){return t[0]=r[0]+e[0]*n,t[1]=r[1]+e[1]*n,t[2]=r[2]+e[2]*n,t[3]=r[3]+e[3]*n,t}function b(t,r){var e=r[0]-t[0],n=r[1]-t[1],o=r[2]-t[2],a=r[3]-t[3];return Math.hypot(e,n,o,a)}function O(t,r){var e=r[0]-t[0],n=r[1]-t[1],o=r[2]-t[2],a=r[3]-t[3];return e*e+n*n+o*o+a*a}function A(t){var r=t[0],e=t[1],n=t[2],o=t[3];return Math.hypot(r,e,n,o)}function y(t){var r=t[0],e=t[1],n=t[2],o=t[3];return r*r+e*e+n*n+o*o}function P(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=-r[3],t}function R(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t[3]=1/r[3],t}function _(t,r){var e=r[0],n=r[1],o=r[2],a=r[3],u=e*e+n*n+o*o+a*a;return u>0&&(u=1/Math.sqrt(u)),t[0]=e*u,t[1]=n*u,t[2]=o*u,t[3]=a*u,t}function q(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]+t[3]*r[3]}function E(t,r,e,n){var o=e[0]*n[1]-e[1]*n[0],a=e[0]*n[2]-e[2]*n[0],u=e[0]*n[3]-e[3]*n[0],s=e[1]*n[2]-e[2]*n[1],i=e[1]*n[3]-e[3]*n[1],p=e[2]*n[3]-e[3]*n[2],c=r[0],f=r[1],x=r[2],h=r[3];return t[0]=f*p-x*i+h*s,t[1]=-c*p+x*u-h*a,t[2]=c*i-f*u+h*o,t[3]=-c*s+f*a-x*o,t}function w(t,r,e,n){var o=r[0],a=r[1],u=r[2],s=r[3];return t[0]=o+n*(e[0]-o),t[1]=a+n*(e[1]-a),t[2]=u+n*(e[2]-u),t[3]=s+n*(e[3]-s),t}function g(r,e){var n,o,a,u,s,i;e=e||1;do{s=(n=2*t.RANDOM()-1)*n+(o=2*t.RANDOM()-1)*o}while(s>=1);do{i=(a=2*t.RANDOM()-1)*a+(u=2*t.RANDOM()-1)*u}while(i>=1);var p=Math.sqrt((1-s)/i);return r[0]=e*n,r[1]=e*o,r[2]=e*a*p,r[3]=e*u*p,r}function D(t,r,e){var n=r[0],o=r[1],a=r[2],u=r[3];return t[0]=e[0]*n+e[4]*o+e[8]*a+e[12]*u,t[1]=e[1]*n+e[5]*o+e[9]*a+e[13]*u,t[2]=e[2]*n+e[6]*o+e[10]*a+e[14]*u,t[3]=e[3]*n+e[7]*o+e[11]*a+e[15]*u,t}function N(t,r,e){var n=r[0],o=r[1],a=r[2],u=e[0],s=e[1],i=e[2],p=e[3],c=p*n+s*a-i*o,f=p*o+i*n-u*a,x=p*a+u*o-s*n,h=-u*n-s*o-i*a;return t[0]=c*p+h*-u+f*-i-x*-s,t[1]=f*p+h*-s+x*-u-c*-i,t[2]=x*p+h*-i+c*-s-f*-u,t[3]=r[3],t}function Y(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function j(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function L(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]}function I(r,e){var n=r[0],o=r[1],a=r[2],u=r[3],s=e[0],i=e[1],p=e[2],c=e[3];return Math.abs(n-s)<=t.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(o-i)<=t.EPSILON*Math.max(1,Math.abs(o),Math.abs(i))&&Math.abs(a-p)<=t.EPSILON*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(u-c)<=t.EPSILON*Math.max(1,Math.abs(u),Math.abs(c))}var S=exports.sub=p,T=exports.mul=c,k=exports.div=f,W=exports.dist=b,z=exports.sqrDist=O,F=exports.len=A,Q=exports.sqrLen=y,V=exports.forEach=function(){var t=n();return function(r,e,n,o,a,u){var s,i;for(e||(e=4),n||(n=0),i=o?Math.min(o*e+n,r.length):r.length,s=n;s<i;s+=e)t[0]=r[s],t[1]=r[s+1],t[2]=r[s+2],t[3]=r[s+3],a(t,t,u),r[s]=t[0],r[s+1]=t[1],r[s+2]=t[2],r[s+3]=t[3];return r}}();
},{"./common.js":"XJqx"}],"KdRW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.add=void 0,exports.calculateW=h,exports.clone=void 0,exports.conjugate=y,exports.copy=void 0,exports.create=a,exports.exactEquals=exports.equals=exports.dot=void 0,exports.exp=v,exports.fromEuler=O,exports.fromMat3=A,exports.fromValues=void 0,exports.getAngle=c,exports.getAxisAngle=i,exports.identity=u,exports.invert=P,exports.lerp=exports.length=exports.len=void 0,exports.ln=d,exports.mul=void 0,exports.multiply=x,exports.normalize=void 0,exports.pow=q,exports.random=g,exports.rotateX=l,exports.rotateY=f,exports.rotateZ=M,exports.setAxes=exports.set=exports.scale=exports.rotationTo=void 0,exports.setAxisAngle=p,exports.slerp=m,exports.squaredLength=exports.sqrLen=exports.sqlerp=void 0,exports.str=j;var t=s(require("./common.js")),r=s(require("./mat3.js")),e=s(require("./vec3.js")),o=s(require("./vec4.js"));function n(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,e=new WeakMap;return(n=function(t){return t?e:r})(t)}function s(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=n(r);if(e&&e.has(t))return e.get(t);var o={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&{}.hasOwnProperty.call(t,a)){var u=s?Object.getOwnPropertyDescriptor(t,a):null;u&&(u.get||u.set)?Object.defineProperty(o,a,u):o[a]=t[a]}return o.default=t,e&&e.set(t,o),o}function a(){var r=new t.ARRAY_TYPE(4);return t.ARRAY_TYPE!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r[3]=1,r}function u(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function p(t,r,e){e*=.5;var o=Math.sin(e);return t[0]=o*r[0],t[1]=o*r[1],t[2]=o*r[2],t[3]=Math.cos(e),t}function i(r,e){var o=2*Math.acos(e[3]),n=Math.sin(o/2);return n>t.EPSILON?(r[0]=e[0]/n,r[1]=e[1]/n,r[2]=e[2]/n):(r[0]=1,r[1]=0,r[2]=0),o}function c(t,r){var e=D(t,r);return Math.acos(2*e*e-1)}function x(t,r,e){var o=r[0],n=r[1],s=r[2],a=r[3],u=e[0],p=e[1],i=e[2],c=e[3];return t[0]=o*c+a*u+n*i-s*p,t[1]=n*c+a*p+s*u-o*i,t[2]=s*c+a*i+o*p-n*u,t[3]=a*c-o*u-n*p-s*i,t}function l(t,r,e){e*=.5;var o=r[0],n=r[1],s=r[2],a=r[3],u=Math.sin(e),p=Math.cos(e);return t[0]=o*p+a*u,t[1]=n*p+s*u,t[2]=s*p-n*u,t[3]=a*p-o*u,t}function f(t,r,e){e*=.5;var o=r[0],n=r[1],s=r[2],a=r[3],u=Math.sin(e),p=Math.cos(e);return t[0]=o*p-s*u,t[1]=n*p+a*u,t[2]=s*p+o*u,t[3]=a*p-n*u,t}function M(t,r,e){e*=.5;var o=r[0],n=r[1],s=r[2],a=r[3],u=Math.sin(e),p=Math.cos(e);return t[0]=o*p+n*u,t[1]=n*p-o*u,t[2]=s*p+a*u,t[3]=a*p-s*u,t}function h(t,r){var e=r[0],o=r[1],n=r[2];return t[0]=e,t[1]=o,t[2]=n,t[3]=Math.sqrt(Math.abs(1-e*e-o*o-n*n)),t}function v(t,r){var e=r[0],o=r[1],n=r[2],s=r[3],a=Math.sqrt(e*e+o*o+n*n),u=Math.exp(s),p=a>0?u*Math.sin(a)/a:0;return t[0]=e*p,t[1]=o*p,t[2]=n*p,t[3]=u*Math.cos(a),t}function d(t,r){var e=r[0],o=r[1],n=r[2],s=r[3],a=Math.sqrt(e*e+o*o+n*n),u=a>0?Math.atan2(a,s)/a:0;return t[0]=e*u,t[1]=o*u,t[2]=n*u,t[3]=.5*Math.log(e*e+o*o+n*n+s*s),t}function q(t,r,e){return d(t,r),R(t,t,e),v(t,t),t}function m(r,e,o,n){var s,a,u,p,i,c=e[0],x=e[1],l=e[2],f=e[3],M=o[0],h=o[1],v=o[2],d=o[3];return(a=c*M+x*h+l*v+f*d)<0&&(a=-a,M=-M,h=-h,v=-v,d=-d),1-a>t.EPSILON?(s=Math.acos(a),u=Math.sin(s),p=Math.sin((1-n)*s)/u,i=Math.sin(n*s)/u):(p=1-n,i=n),r[0]=p*c+i*M,r[1]=p*x+i*h,r[2]=p*l+i*v,r[3]=p*f+i*d,r}function g(r){var e=t.RANDOM(),o=t.RANDOM(),n=t.RANDOM(),s=Math.sqrt(1-e),a=Math.sqrt(e);return r[0]=s*Math.sin(2*Math.PI*o),r[1]=s*Math.cos(2*Math.PI*o),r[2]=a*Math.sin(2*Math.PI*n),r[3]=a*Math.cos(2*Math.PI*n),r}function P(t,r){var e=r[0],o=r[1],n=r[2],s=r[3],a=e*e+o*o+n*n+s*s,u=a?1/a:0;return t[0]=-e*u,t[1]=-o*u,t[2]=-n*u,t[3]=s*u,t}function y(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=r[3],t}function A(t,r){var e,o=r[0]+r[4]+r[8];if(o>0)e=Math.sqrt(o+1),t[3]=.5*e,e=.5/e,t[0]=(r[5]-r[7])*e,t[1]=(r[6]-r[2])*e,t[2]=(r[1]-r[3])*e;else{var n=0;r[4]>r[0]&&(n=1),r[8]>r[3*n+n]&&(n=2);var s=(n+1)%3,a=(n+2)%3;e=Math.sqrt(r[3*n+n]-r[3*s+s]-r[3*a+a]+1),t[n]=.5*e,e=.5/e,t[3]=(r[3*s+a]-r[3*a+s])*e,t[s]=(r[3*s+n]+r[3*n+s])*e,t[a]=(r[3*a+n]+r[3*n+a])*e}return t}function O(t,r,e,o){var n=.5*Math.PI/180;r*=n,e*=n,o*=n;var s=Math.sin(r),a=Math.cos(r),u=Math.sin(e),p=Math.cos(e),i=Math.sin(o),c=Math.cos(o);return t[0]=s*p*c-a*u*i,t[1]=a*u*c+s*p*i,t[2]=a*p*i-s*u*c,t[3]=a*p*c+s*u*i,t}function j(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}var _=exports.clone=o.clone,E=exports.fromValues=o.fromValues,I=exports.copy=o.copy,b=exports.set=o.set,w=exports.add=o.add,L=exports.mul=x,R=exports.scale=o.scale,D=exports.dot=o.dot,N=exports.lerp=o.lerp,V=exports.length=o.length,Y=exports.len=V,z=exports.squaredLength=o.squaredLength,T=exports.sqrLen=z,W=exports.normalize=o.normalize,k=exports.exactEquals=o.exactEquals,S=exports.equals=o.equals,F=exports.rotationTo=function(){var t=e.create(),r=e.fromValues(1,0,0),o=e.fromValues(0,1,0);return function(n,s,a){var u=e.dot(s,a);return u<-.999999?(e.cross(t,r,s),e.len(t)<1e-6&&e.cross(t,o,s),e.normalize(t,t),p(n,t,Math.PI),n):u>.999999?(n[0]=0,n[1]=0,n[2]=0,n[3]=1,n):(e.cross(t,s,a),n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=1+u,W(n,n))}}(),X=exports.sqlerp=function(){var t=a(),r=a();return function(e,o,n,s,a,u){return m(t,o,a,u),m(r,n,s,u),m(e,t,r,2*u*(1-u)),e}}(),Z=exports.setAxes=function(){var t=r.create();return function(r,e,o,n){return t[0]=o[0],t[3]=o[1],t[6]=o[2],t[1]=n[0],t[4]=n[1],t[7]=n[2],t[2]=-e[0],t[5]=-e[1],t[8]=-e[2],W(r,A(r,t))}}();
},{"./common.js":"XJqx","./mat3.js":"vtQf","./vec3.js":"AWBd","./vec4.js":"zWbG"}],"buGF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.add=Y,exports.clone=s,exports.conjugate=N,exports.copy=h,exports.create=o,exports.dot=void 0,exports.equals=X,exports.exactEquals=V,exports.fromMat4=c,exports.fromRotation=x,exports.fromRotationTranslation=p,exports.fromRotationTranslationValues=i,exports.fromTranslation=f,exports.fromValues=u,exports.getDual=b,exports.getReal=void 0,exports.getTranslation=m,exports.identity=l,exports.invert=I,exports.length=exports.len=void 0,exports.lerp=w,exports.mul=void 0,exports.multiply=_,exports.normalize=B,exports.rotateAroundAxis=L,exports.rotateByQuatAppend=A,exports.rotateByQuatPrepend=E,exports.rotateX=y,exports.rotateY=g,exports.rotateZ=O,exports.scale=T,exports.set=M,exports.setDual=P,exports.squaredLength=exports.sqrLen=exports.setReal=void 0,exports.str=Q,exports.translate=R;var t=n(require("./common.js")),r=n(require("./quat.js")),e=n(require("./mat4.js"));function a(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,e=new WeakMap;return(a=function(t){return t?e:r})(t)}function n(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=a(r);if(e&&e.has(t))return e.get(t);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&{}.hasOwnProperty.call(t,s)){var u=o?Object.getOwnPropertyDescriptor(t,s):null;u&&(u.get||u.set)?Object.defineProperty(n,s,u):n[s]=t[s]}return n.default=t,e&&e.set(t,n),n}function o(){var r=new t.ARRAY_TYPE(8);return t.ARRAY_TYPE!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0,r[4]=0,r[5]=0,r[6]=0,r[7]=0),r[3]=1,r}function s(r){var e=new t.ARRAY_TYPE(8);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e}function u(r,e,a,n,o,s,u,i){var p=new t.ARRAY_TYPE(8);return p[0]=r,p[1]=e,p[2]=a,p[3]=n,p[4]=o,p[5]=s,p[6]=u,p[7]=i,p}function i(r,e,a,n,o,s,u){var i=new t.ARRAY_TYPE(8);i[0]=r,i[1]=e,i[2]=a,i[3]=n;var p=.5*o,f=.5*s,x=.5*u;return i[4]=p*n+f*a-x*e,i[5]=f*n+x*r-p*a,i[6]=x*n+p*e-f*r,i[7]=-p*r-f*e-x*a,i}function p(t,r,e){var a=.5*e[0],n=.5*e[1],o=.5*e[2],s=r[0],u=r[1],i=r[2],p=r[3];return t[0]=s,t[1]=u,t[2]=i,t[3]=p,t[4]=a*p+n*i-o*u,t[5]=n*p+o*s-a*i,t[6]=o*p+a*u-n*s,t[7]=-a*s-n*u-o*i,t}function f(t,r){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*r[0],t[5]=.5*r[1],t[6]=.5*r[2],t[7]=0,t}function x(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function c(a,n){var o=r.create();e.getRotation(o,n);var s=new t.ARRAY_TYPE(3);return e.getTranslation(s,n),p(a,o,s),a}function h(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t}function l(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function M(t,r,e,a,n,o,s,u,i){return t[0]=r,t[1]=e,t[2]=a,t[3]=n,t[4]=o,t[5]=s,t[6]=u,t[7]=i,t}var v=exports.getReal=r.copy;function b(t,r){return t[0]=r[4],t[1]=r[5],t[2]=r[6],t[3]=r[7],t}var d=exports.setReal=r.copy;function P(t,r){return t[4]=r[0],t[5]=r[1],t[6]=r[2],t[7]=r[3],t}function m(t,r){var e=r[4],a=r[5],n=r[6],o=r[7],s=-r[0],u=-r[1],i=-r[2],p=r[3];return t[0]=2*(e*p+o*s+a*i-n*u),t[1]=2*(a*p+o*u+n*s-e*i),t[2]=2*(n*p+o*i+e*u-a*s),t}function R(t,r,e){var a=r[0],n=r[1],o=r[2],s=r[3],u=.5*e[0],i=.5*e[1],p=.5*e[2],f=r[4],x=r[5],c=r[6],h=r[7];return t[0]=a,t[1]=n,t[2]=o,t[3]=s,t[4]=s*u+n*p-o*i+f,t[5]=s*i+o*u-a*p+x,t[6]=s*p+a*i-n*u+c,t[7]=-a*u-n*i-o*p+h,t}function y(t,e,a){var n=-e[0],o=-e[1],s=-e[2],u=e[3],i=e[4],p=e[5],f=e[6],x=e[7],c=i*u+x*n+p*s-f*o,h=p*u+x*o+f*n-i*s,l=f*u+x*s+i*o-p*n,M=x*u-i*n-p*o-f*s;return r.rotateX(t,e,a),n=t[0],o=t[1],s=t[2],u=t[3],t[4]=c*u+M*n+h*s-l*o,t[5]=h*u+M*o+l*n-c*s,t[6]=l*u+M*s+c*o-h*n,t[7]=M*u-c*n-h*o-l*s,t}function g(t,e,a){var n=-e[0],o=-e[1],s=-e[2],u=e[3],i=e[4],p=e[5],f=e[6],x=e[7],c=i*u+x*n+p*s-f*o,h=p*u+x*o+f*n-i*s,l=f*u+x*s+i*o-p*n,M=x*u-i*n-p*o-f*s;return r.rotateY(t,e,a),n=t[0],o=t[1],s=t[2],u=t[3],t[4]=c*u+M*n+h*s-l*o,t[5]=h*u+M*o+l*n-c*s,t[6]=l*u+M*s+c*o-h*n,t[7]=M*u-c*n-h*o-l*s,t}function O(t,e,a){var n=-e[0],o=-e[1],s=-e[2],u=e[3],i=e[4],p=e[5],f=e[6],x=e[7],c=i*u+x*n+p*s-f*o,h=p*u+x*o+f*n-i*s,l=f*u+x*s+i*o-p*n,M=x*u-i*n-p*o-f*s;return r.rotateZ(t,e,a),n=t[0],o=t[1],s=t[2],u=t[3],t[4]=c*u+M*n+h*s-l*o,t[5]=h*u+M*o+l*n-c*s,t[6]=l*u+M*s+c*o-h*n,t[7]=M*u-c*n-h*o-l*s,t}function A(t,r,e){var a=e[0],n=e[1],o=e[2],s=e[3],u=r[0],i=r[1],p=r[2],f=r[3];return t[0]=u*s+f*a+i*o-p*n,t[1]=i*s+f*n+p*a-u*o,t[2]=p*s+f*o+u*n-i*a,t[3]=f*s-u*a-i*n-p*o,u=r[4],i=r[5],p=r[6],f=r[7],t[4]=u*s+f*a+i*o-p*n,t[5]=i*s+f*n+p*a-u*o,t[6]=p*s+f*o+u*n-i*a,t[7]=f*s-u*a-i*n-p*o,t}function E(t,r,e){var a=r[0],n=r[1],o=r[2],s=r[3],u=e[0],i=e[1],p=e[2],f=e[3];return t[0]=a*f+s*u+n*p-o*i,t[1]=n*f+s*i+o*u-a*p,t[2]=o*f+s*p+a*i-n*u,t[3]=s*f-a*u-n*i-o*p,u=e[4],i=e[5],p=e[6],f=e[7],t[4]=a*f+s*u+n*p-o*i,t[5]=n*f+s*i+o*u-a*p,t[6]=o*f+s*p+a*i-n*u,t[7]=s*f-a*u-n*i-o*p,t}function L(r,e,a,n){if(Math.abs(n)<t.EPSILON)return h(r,e);var o=Math.hypot(a[0],a[1],a[2]);n*=.5;var s=Math.sin(n),u=s*a[0]/o,i=s*a[1]/o,p=s*a[2]/o,f=Math.cos(n),x=e[0],c=e[1],l=e[2],M=e[3];r[0]=x*f+M*u+c*p-l*i,r[1]=c*f+M*i+l*u-x*p,r[2]=l*f+M*p+x*i-c*u,r[3]=M*f-x*u-c*i-l*p;var v=e[4],b=e[5],d=e[6],P=e[7];return r[4]=v*f+P*u+b*p-d*i,r[5]=b*f+P*i+d*u-v*p,r[6]=d*f+P*p+v*i-b*u,r[7]=P*f-v*u-b*i-d*p,r}function Y(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t[3]=r[3]+e[3],t[4]=r[4]+e[4],t[5]=r[5]+e[5],t[6]=r[6]+e[6],t[7]=r[7]+e[7],t}function _(t,r,e){var a=r[0],n=r[1],o=r[2],s=r[3],u=e[4],i=e[5],p=e[6],f=e[7],x=r[4],c=r[5],h=r[6],l=r[7],M=e[0],v=e[1],b=e[2],d=e[3];return t[0]=a*d+s*M+n*b-o*v,t[1]=n*d+s*v+o*M-a*b,t[2]=o*d+s*b+a*v-n*M,t[3]=s*d-a*M-n*v-o*b,t[4]=a*f+s*u+n*p-o*i+x*d+l*M+c*b-h*v,t[5]=n*f+s*i+o*u-a*p+c*d+l*v+h*M-x*b,t[6]=o*f+s*p+a*i-n*u+h*d+l*b+x*v-c*M,t[7]=s*f-a*u-n*i-o*p+l*d-x*M-c*v-h*b,t}var q=exports.mul=_;function T(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t[4]=r[4]*e,t[5]=r[5]*e,t[6]=r[6]*e,t[7]=r[7]*e,t}var j=exports.dot=r.dot;function w(t,r,e,a){var n=1-a;return j(r,e)<0&&(a=-a),t[0]=r[0]*n+e[0]*a,t[1]=r[1]*n+e[1]*a,t[2]=r[2]*n+e[2]*a,t[3]=r[3]*n+e[3]*a,t[4]=r[4]*n+e[4]*a,t[5]=r[5]*n+e[5]*a,t[6]=r[6]*n+e[6]*a,t[7]=r[7]*n+e[7]*a,t}function I(t,r){var e=k(r);return t[0]=-r[0]/e,t[1]=-r[1]/e,t[2]=-r[2]/e,t[3]=r[3]/e,t[4]=-r[4]/e,t[5]=-r[5]/e,t[6]=-r[6]/e,t[7]=r[7]/e,t}function N(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=r[3],t[4]=-r[4],t[5]=-r[5],t[6]=-r[6],t[7]=r[7],t}var S=exports.length=r.length,D=exports.len=S,k=exports.squaredLength=r.squaredLength,W=exports.sqrLen=k;function B(t,r){var e=k(r);if(e>0){e=Math.sqrt(e);var a=r[0]/e,n=r[1]/e,o=r[2]/e,s=r[3]/e,u=r[4],i=r[5],p=r[6],f=r[7],x=a*u+n*i+o*p+s*f;t[0]=a,t[1]=n,t[2]=o,t[3]=s,t[4]=(u-a*x)/e,t[5]=(i-n*x)/e,t[6]=(p-o*x)/e,t[7]=(f-s*x)/e}return t}function Q(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"}function V(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&t[4]===r[4]&&t[5]===r[5]&&t[6]===r[6]&&t[7]===r[7]}function X(r,e){var a=r[0],n=r[1],o=r[2],s=r[3],u=r[4],i=r[5],p=r[6],f=r[7],x=e[0],c=e[1],h=e[2],l=e[3],M=e[4],v=e[5],b=e[6],d=e[7];return Math.abs(a-x)<=t.EPSILON*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(n-c)<=t.EPSILON*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(o-h)<=t.EPSILON*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(s-l)<=t.EPSILON*Math.max(1,Math.abs(s),Math.abs(l))&&Math.abs(u-M)<=t.EPSILON*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(i-v)<=t.EPSILON*Math.max(1,Math.abs(i),Math.abs(v))&&Math.abs(p-b)<=t.EPSILON*Math.max(1,Math.abs(p),Math.abs(b))&&Math.abs(f-d)<=t.EPSILON*Math.max(1,Math.abs(f),Math.abs(d))}
},{"./common.js":"XJqx","./quat.js":"KdRW","./mat4.js":"w3aR"}],"XSo1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.add=i,exports.angle=k,exports.ceil=x,exports.clone=o,exports.copy=a,exports.create=n,exports.cross=E,exports.dist=void 0,exports.distance=b,exports.div=void 0,exports.divide=f,exports.dot=g,exports.equals=z,exports.exactEquals=W,exports.floor=h,exports.forEach=void 0,exports.fromValues=u,exports.inverse=_,exports.len=void 0,exports.length=P,exports.lerp=R,exports.max=l,exports.min=M,exports.mul=void 0,exports.multiply=p,exports.negate=A,exports.normalize=O,exports.random=w,exports.rotate=T,exports.round=v,exports.scale=d,exports.scaleAndAdd=m,exports.set=s,exports.sqrLen=exports.sqrDist=void 0,exports.squaredDistance=y,exports.squaredLength=q,exports.str=N,exports.sub=void 0,exports.subtract=c,exports.transformMat2=Y,exports.transformMat2d=j,exports.transformMat3=D,exports.transformMat4=L,exports.zero=I;var t=e(require("./common.js"));function r(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(r=function(t){return t?n:e})(t)}function e(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=r(e);if(n&&n.has(t))return n.get(t);var o={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&{}.hasOwnProperty.call(t,a)){var s=u?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=t[a]}return o.default=t,n&&n.set(t,o),o}function n(){var r=new t.ARRAY_TYPE(2);return t.ARRAY_TYPE!=Float32Array&&(r[0]=0,r[1]=0),r}function o(r){var e=new t.ARRAY_TYPE(2);return e[0]=r[0],e[1]=r[1],e}function u(r,e){var n=new t.ARRAY_TYPE(2);return n[0]=r,n[1]=e,n}function a(t,r){return t[0]=r[0],t[1]=r[1],t}function s(t,r,e){return t[0]=r,t[1]=e,t}function i(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t}function c(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t}function p(t,r,e){return t[0]=r[0]*e[0],t[1]=r[1]*e[1],t}function f(t,r,e){return t[0]=r[0]/e[0],t[1]=r[1]/e[1],t}function x(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t}function h(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t}function M(t,r,e){return t[0]=Math.min(r[0],e[0]),t[1]=Math.min(r[1],e[1]),t}function l(t,r,e){return t[0]=Math.max(r[0],e[0]),t[1]=Math.max(r[1],e[1]),t}function v(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t}function d(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t}function m(t,r,e,n){return t[0]=r[0]+e[0]*n,t[1]=r[1]+e[1]*n,t}function b(t,r){var e=r[0]-t[0],n=r[1]-t[1];return Math.hypot(e,n)}function y(t,r){var e=r[0]-t[0],n=r[1]-t[1];return e*e+n*n}function P(t){var r=t[0],e=t[1];return Math.hypot(r,e)}function q(t){var r=t[0],e=t[1];return r*r+e*e}function A(t,r){return t[0]=-r[0],t[1]=-r[1],t}function _(t,r){return t[0]=1/r[0],t[1]=1/r[1],t}function O(t,r){var e=r[0],n=r[1],o=e*e+n*n;return o>0&&(o=1/Math.sqrt(o)),t[0]=r[0]*o,t[1]=r[1]*o,t}function g(t,r){return t[0]*r[0]+t[1]*r[1]}function E(t,r,e){var n=r[0]*e[1]-r[1]*e[0];return t[0]=t[1]=0,t[2]=n,t}function R(t,r,e,n){var o=r[0],u=r[1];return t[0]=o+n*(e[0]-o),t[1]=u+n*(e[1]-u),t}function w(r,e){e=e||1;var n=2*t.RANDOM()*Math.PI;return r[0]=Math.cos(n)*e,r[1]=Math.sin(n)*e,r}function Y(t,r,e){var n=r[0],o=r[1];return t[0]=e[0]*n+e[2]*o,t[1]=e[1]*n+e[3]*o,t}function j(t,r,e){var n=r[0],o=r[1];return t[0]=e[0]*n+e[2]*o+e[4],t[1]=e[1]*n+e[3]*o+e[5],t}function D(t,r,e){var n=r[0],o=r[1];return t[0]=e[0]*n+e[3]*o+e[6],t[1]=e[1]*n+e[4]*o+e[7],t}function L(t,r,e){var n=r[0],o=r[1];return t[0]=e[0]*n+e[4]*o+e[12],t[1]=e[1]*n+e[5]*o+e[13],t}function T(t,r,e,n){var o=r[0]-e[0],u=r[1]-e[1],a=Math.sin(n),s=Math.cos(n);return t[0]=o*s-u*a+e[0],t[1]=o*a+u*s+e[1],t}function k(t,r){var e=t[0],n=t[1],o=r[0],u=r[1],a=Math.sqrt(e*e+n*n)*Math.sqrt(o*o+u*u),s=a&&(e*o+n*u)/a;return Math.acos(Math.min(Math.max(s,-1),1))}function I(t){return t[0]=0,t[1]=0,t}function N(t){return"vec2("+t[0]+", "+t[1]+")"}function W(t,r){return t[0]===r[0]&&t[1]===r[1]}function z(r,e){var n=r[0],o=r[1],u=e[0],a=e[1];return Math.abs(n-u)<=t.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(o-a)<=t.EPSILON*Math.max(1,Math.abs(o),Math.abs(a))}var S=exports.len=P,F=exports.sub=c,V=exports.mul=p,B=exports.div=f,C=exports.dist=b,G=exports.sqrDist=y,H=exports.sqrLen=q,J=exports.forEach=function(){var t=n();return function(r,e,n,o,u,a){var s,i;for(e||(e=2),n||(n=0),i=o?Math.min(o*e+n,r.length):r.length,s=n;s<i;s+=e)t[0]=r[s],t[1]=r[s+1],u(t,t,a),r[s]=t[0],r[s+1]=t[1];return r}}();
},{"./common.js":"XJqx"}],"IF0X":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.vec4=exports.vec3=exports.vec2=exports.quat2=exports.quat=exports.mat4=exports.mat3=exports.mat2d=exports.mat2=exports.glMatrix=void 0;var e=c(require("./common.js"));exports.glMatrix=e;var r=c(require("./mat2.js"));exports.mat2=r;var t=c(require("./mat2d.js"));exports.mat2d=t;var a=c(require("./mat3.js"));exports.mat3=a;var o=c(require("./mat4.js"));exports.mat4=o;var s=c(require("./quat.js"));exports.quat=s;var u=c(require("./quat2.js"));exports.quat2=u;var p=c(require("./vec2.js"));exports.vec2=p;var n=c(require("./vec3.js"));exports.vec3=n;var i=c(require("./vec4.js"));function v(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(v=function(e){return e?t:r})(e)}function c(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=v(r);if(t&&t.has(e))return t.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var u=o?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(a,s,u):a[s]=e[s]}return a.default=e,t&&t.set(e,a),a}exports.vec4=i;
},{"./common.js":"XJqx","./mat2.js":"eN7R","./mat2d.js":"M21d","./mat3.js":"vtQf","./mat4.js":"w3aR","./quat.js":"KdRW","./quat2.js":"buGF","./vec2.js":"XSo1","./vec3.js":"AWBd","./vec4.js":"zWbG"}],"sBYS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=require("gl-matrix");class t{constructor(r){this.context=r,this.gl=r.gl}initialize(r,t){const{gl:a}=this;this.program=a.createProgram(),a.attachShader(this.program,r.location),a.attachShader(this.program,t.location),this.__linkAndValidate(),this.__attribLocations={mWorld:a.getUniformLocation(this.program,"mWorld"),mView:a.getUniformLocation(this.program,"mView"),mProj:a.getUniformLocation(this.program,"mProj")}}_createBuffer(r){const{gl:t}=this,a=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,a),t.bufferData(t.ARRAY_BUFFER,new Float32Array(r),t.STATIC_DRAW)}_createElementBuffer(r){const{gl:t}=this,a=t.createBuffer();t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,a),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(r),t.STATIC_DRAW)}prepareDraw(t,a,o,i,e){const{gl:n}=this;n.useProgram(this.program);const m=new Float32Array(16),s=new Float32Array(9);r.quat.fromEuler(s,a.x,a.y,a.z);const l=new Float32Array(16),g=new Float32Array(16),f=new Float32Array(16);r.mat4.fromTranslation(f,[t.x,t.y,t.z]),r.mat4.fromScaling(g,[o.x,o.y,o.z]),r.mat4.fromQuat(l,s),r.mat4.multiply(m,f,l),r.mat4.multiply(m,m,g),n.uniformMatrix4fv(this.__attribLocations.mWorld,n.FALSE,m),n.uniformMatrix4fv(this.__attribLocations.mView,n.FALSE,i),n.uniformMatrix4fv(this.__attribLocations.mProj,n.FALSE,e)}destroy(){this.gl.deleteProgram(this.program)}__linkAndValidate(){const{program:r,gl:t}=this;if(t.linkProgram(r),!t.getProgramParameter(r,t.LINK_STATUS))throw new Error(`Error linking program ${t.getProgramInfoLog(r)}`);if(t.validateProgram(r),!t.getProgramParameter(r,t.VALIDATE_STATUS))throw new Error(`Error validating program ${t.getProgramInfoLog(r)}`)}}var a=exports.default=t;
},{"gl-matrix":"IF0X"}],"kYbe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=s(require("../../Model"));function s(t){return t&&t.__esModule?t:{default:t}}class e extends t.default{initialize(t,s){super.initialize(t,s);const{gl:e}=this;this.attribLocations={vertPosition:e.getAttribLocation(this.program,"vertPosition"),texCoord:e.getAttribLocation(this.program,"texCoord")}}initializeProperties(t,s,e){this.radius=t,this.height=s,this.slices=e}setTexture(t){this.texture=t}generateVertices(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.8,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;const r=s/2,o=2*Math.PI/e,i=[];let h=0;for(h=0;h<e+1;++h){const s=-o*h,e=Math.cos(s)*t,a=Math.sin(s)*t;i.push(e),i.push(r),i.push(a),i.push(.2),i.push(.2),i.push(e),i.push(-r),i.push(a),i.push(.2),i.push(.2)}const a=2*h,u=a;for(i.push(0),i.push(r),i.push(0),i.push(.25),i.push(.5),h=0;h<e+2;++h){const s=-o*h,e=Math.cos(s)*t,a=Math.sin(s)*t,u=s-Math.PI,n=(Math.cos(u)+1)/4,p=(Math.sin(u)+1)/2;i.push(e),i.push(r),i.push(a),i.push(n),i.push(p)}const n=h;i.push(0),i.push(-r),i.push(0),i.push(.75),i.push(.5);const p=u+n+1,c=e+1;for(let d=0;d<c;++d){const s=-o*(c-d),e=Math.cos(s)*t,h=Math.sin(s)*t,a=s-Math.PI,u=(Math.cos(a)+1)/4+.5,n=(Math.sin(a)+1)/2;i.push(e),i.push(-r),i.push(h),i.push(u),i.push(n)}return{buffer:i,bodyStart:0,bodyLength:a,topStart:u,topLength:n,bottomStart:p,bottomLength:h}}draw(){const{gl:t}=this,s=this.slices||10,e=this.radius||.8,r=this.height||1,{buffer:o,bodyStart:i,bodyLength:h,topStart:a,topLength:u,bottomStart:n,bottomLength:p}=this.generateVertices(e,r,s);this._createBuffer(o),t.vertexAttribPointer(this.attribLocations.vertPosition,3,t.FLOAT,t.FALSE,5*Float32Array.BYTES_PER_ELEMENT,0),t.vertexAttribPointer(this.attribLocations.texCoord,2,t.FLOAT,t.FALSE,5*Float32Array.BYTES_PER_ELEMENT,3*Float32Array.BYTES_PER_ELEMENT),t.enableVertexAttribArray(this.attribLocations.vertPosition),t.enableVertexAttribArray(this.attribLocations.texCoord),t.bindTexture(t.TEXTURE_2D,this.texture.location),t.activeTexture(t.TEXTURE0),t.drawArrays(t.TRIANGLE_STRIP,i,h),t.drawArrays(t.TRIANGLE_FAN,a,u),t.drawArrays(t.TRIANGLE_FAN,n,p)}}var r=exports.default=e;
},{"../../Model":"sBYS"}],"hKAl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;class e{constructor(e,r){this.__compile(e.gl,r)}__compile(e,r){const o=e.createShader(e.VERTEX_SHADER);if(e.shaderSource(o,r),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS))throw new Error(`Error compiling vertex shader ${e.getShaderInfoLog(o)}`);this.location=o}}var r=exports.default=e;
},{}],"pFJQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;class e{constructor(e,r){this.__compile(e.gl,r)}__compile(e,r){const o=e.createShader(e.FRAGMENT_SHADER);if(e.shaderSource(o,r),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS))throw new Error(`Error compiling fragment shader ${e.getShaderInfoLog(o)}`);this.location=o}}var r=exports.default=e;
},{}],"oMEM":[function(require,module,exports) {
module.exports = `precision mediump float;
#define GLSLIFY 1

attribute vec3 vertPosition;
attribute vec2 texCoord;
varying vec2 fragTexCoord;

uniform mat4 mWorld;
uniform mat4 mView;
uniform mat4 mProj;

void main () {
  fragTexCoord = texCoord;
  gl_Position = mProj * mView * mWorld * vec4(vertPosition, 1.0);
}`
},{}],"BAGI":[function(require,module,exports) {
module.exports = `precision mediump float;
#define GLSLIFY 1

varying vec2 fragTexCoord;
uniform sampler2D sampler;

void main () {
  gl_FragColor = texture2D(sampler, fragTexCoord);
}`
},{}],"PZPS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=d(require("../../core/GameObject")),t=d(require("../../models/primitives/Cylinder")),r=d(require("../../core/shaders/VertexShader")),i=d(require("../../core/shaders/FragmentShader")),s=d(require("./shader.vert")),a=d(require("./shader.frag"));function d(e){return e&&e.__esModule?e:{default:e}}class u extends e.default{initialize(e,d){let u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;const l=new r.default(this.context,s.default),o=new i.default(this.context,a.default),n=new t.default(this.context);n.initialize(l,o),n.initializeProperties(e,d,u),this._setModel(n)}setTexture(e){this.__model.setTexture(e)}}var l=exports.default=u;
},{"../../core/GameObject":"dKMc","../../models/primitives/Cylinder":"kYbe","../../core/shaders/VertexShader":"hKAl","../../core/shaders/FragmentShader":"pFJQ","./shader.vert":"oMEM","./shader.frag":"BAGI"}],"bQHE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;class t{constructor(t){const{gl:e}=t;this.context=t,this.__clearColor=[1,1,1,1],this.__gameObjects=[],e.enable(e.DEPTH_TEST),e.enable(e.CULL_FACE),e.frontFace(e.CCW),e.cullFace(e.BACK),this.__drawGameObject=this.__drawGameObject.bind(this),this.__updateGameObject=this.__updateGameObject.bind(this)}setClearColor(t){this.context.gl.clearColor(t[0],t[1],t[2],t[3]),this.__clearColor=t}addGameObject(t){const{__gameObjects:e}=this;t.setScene(this),t.__sceneIndex=e.length,e.push(t)}removeGameObject(t){const e=t.__sceneIndex;void 0!==e&&this.__gameObjects.splice(e,1)}setCamera(t){this.__camera=t}get camera(){return this.__camera}get height(){return this.context.canvas.height}get width(){return this.context.canvas.width}update(){this.context.notifyUpdating(),this.__camera.update(),this.__gameObjects.forEach(this.__updateGameObject),this.context.notifyUpdateDone()}draw(){this.context.notifyDrawing();const{context:{gl:t}}=this;t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.__gameObjects.forEach(this.__drawGameObject),this.context.notifyDrawDone()}__updateGameObject(t){t.update()}__drawGameObject(t){t.draw(this.__camera.viewMat,this.__camera.projMat)}}var e=exports.default=t;
},{}],"LJBj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("gl-matrix"),i=o(require("../GameObject"));function o(t){return t&&t.__esModule?t:{default:t}}class s extends i.default{constructor(i){super(i),this.__viewMatrix=new Float32Array(16),this.__projection=new Float32Array(16),this.__fov=t.glMatrix.toRadian(45),this.__focus=[.1,4e3],this.__lookAtPosition=null,this.__ratio=16/9}setPosition(t){let[i,o,s]=t;this.position={x:i,y:o,z:s}}setAspectRatio(t){this.__ratio=t}stopLookAt(){this.__lookAtPosition=null}lookAt(t){this.__lookAtPosition=t}setFieldOfView(i){this.__fov=t.glMatrix.toRadian(i)}setFocus(t,i){this.__focus=[t,i]}get viewMat(){const i=[this.position.x,this.position.y,this.position.z];if(this.__lookAtPosition)t.mat4.lookAt(this.__viewMatrix,i,this.__lookAtPosition,[0,1,0]);else{const{position:i,rotation:o,scale:s}=this,e=new Float32Array(9);t.quat.fromEuler(e,o.x,o.y,o.z);const r=new Float32Array(16),a=new Float32Array(16),_=new Float32Array(16);t.mat4.fromTranslation(_,[i.x,i.y,i.z]),t.mat4.fromScaling(a,[s.x,s.y,s.z]),t.mat4.fromQuat(r,e),t.mat4.multiply(this.__viewMatrix,_,r),t.mat4.multiply(this.__viewMatrix,this.__viewMatrix,a),t.mat4.invert(this.__viewMatrix,this.__viewMatrix)}return this.__viewMatrix}get projMat(){return t.mat4.perspective(this.__projection,this.__fov,this.__ratio,this.__focus[0],this.__focus[1]),this.__projection}}var e=exports.default=s;
},{"gl-matrix":"IF0X","../GameObject":"dKMc"}],"kT85":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;class e{constructor(e){this.gl=e.gl}setImage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,_=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.__tile=_,this.__channels=t,this.__prepare(e)}loadImage(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((_,i)=>{this.__tile=t,this.__channels=3;const r=document.createElement("img");r.onload=(()=>{this.__prepare(r),_(r)}),r.src=e})}get location(){return this.__location}__prepare(e){const{gl:t}=this,_=4===this.__channels?t.RGBA:t.RGB;this.__location=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.__location);const i=this.__tile?t.REPEAT:t.CLAMP_TO_EDGE;t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,i),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,i),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,_,_,t.UNSIGNED_BYTE,e),t.bindTexture(t.TEXTURE_2D,null)}}var t=exports.default=e;
},{}],"aeWS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;class e{update(e,t){}}var t=exports.default=e;
},{}],"lwaN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;class t{constructor(i,r,a){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.EASING.LINEAR;this.__from=Array.isArray(i)?i:[i],this.__to=Array.isArray(r)?r:[r],this.__duration=a,this.__remaining=a,this.__easingFn=s,this.__done=!1}clone(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.__easingFn;return new t(this.__from,this.__to,this.__duration,i)}reverse(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.__easingFn;return new t(this.__to,this.__from,this.__duration,i)}reset(){this.__remaining=this.__duration,this.__done=!1}get done(){return this.__done}update(t){const{__from:i,__to:r}=this;if(this.__done)return this.__to;const a=this.__duration-this.__remaining;return this.__remaining=this.__remaining-t,this.__remaining<=0?(this.__done=!0,this.__to):a?i.map((t,i)=>this.__easingFn(a,t,r[i]-t,this.__duration)):this.__from}}t.EASING={LINEAR:(t,i,r,a)=>i+t/a*r,IN:{QUAD:(t,i,r,a)=>r*(t/=a)*t+i,CUBIC:(t,i,r,a)=>r*(t/=a)*t*t+i,QUART:(t,i,r,a)=>r*(t/=a)*t*t*t+i,QUINT:(t,i,r,a)=>r*(t/=a)*t*t*t*t+i,SINE:(t,i,r,a)=>-r*Math.cos(t/a*(Math.PI/2))+r+i,EXPO:(t,i,r,a)=>0===t?i:r*Math.pow(2,10*(t/a-1))+i,CIRC:(t,i,r,a)=>-r*(Math.sqrt(1-(t/=a)*t)-1)+i,ELASTIC(t,i,r,a){var s=1.70158,h=0,_=r;if(0===t)return i;if(1==(t/=a))return i+r;if(h||(h=.3*a),_<Math.abs(r)){_=r;s=h/4}else s=h/(2*Math.PI)*Math.asin(r/_);return-_*Math.pow(2,10*(t-=1))*Math.sin((t*a-s)*(2*Math.PI)/h)+i},BACK:(t,i,r,a,s)=>(void 0===s&&(s=1.70158),r*(t/=a)*t*((s+1)*t-s)+i)},OUT:{QUAD:(t,i,r,a)=>-r*(t/=a)*(t-2)+i,CUBIC:(t,i,r,a)=>r*((t=t/a-1)*t*t+1)+i,QUART:(t,i,r,a)=>-r*((t=t/a-1)*t*t*t-1)+i,QUINT:(t,i,r,a)=>r*((t=t/a-1)*t*t*t*t+1)+i,SINE:(t,i,r,a)=>r*Math.sin(t/a*(Math.PI/2))+i,EXPO:(t,i,r,a)=>t===a?i+r:r*(1-Math.pow(2,-10*t/a))+i,CIRC:(t,i,r,a)=>r*Math.sqrt(1-(t=t/a-1)*t)+i,ELASTIC(t,i,r,a){var s=1.70158,h=0,_=r;if(0===t)return i;if(1==(t/=a))return i+r;if(h||(h=.3*a),_<Math.abs(r)){_=r;s=h/4}else s=h/(2*Math.PI)*Math.asin(r/_);return _*Math.pow(2,-10*t)*Math.sin((t*a-s)*(2*Math.PI)/h)+r+i},BACK:(t,i,r,a,s)=>(void 0===s&&(s=1.70158),r*((t=t/a-1)*t*((s+1)*t+s)+1)+i)},IN_OUT:{QUAD:(t,i,r,a)=>(t/=a/2)<1?r/2*t*t+i:-r/2*(--t*(t-2)-1)+i,CUBIC:(t,i,r,a)=>(t/=a/2)<1?r/2*t*t*t+i:r/2*((t-=2)*t*t+2)+i,QUART:(t,i,r,a)=>(t/=a/2)<1?r/2*t*t*t*t+i:-r/2*((t-=2)*t*t*t-2)+i,QUINT:(t,i,r,a)=>(t/=a/2)<1?r/2*t*t*t*t*t+i:r/2*((t-=2)*t*t*t*t+2)+i,SINE:(t,i,r,a)=>-r/2*(Math.cos(Math.PI*t/a)-1)+i,EXPO:(t,i,r,a)=>0===t?i:t===a?i+r:(t/=a/2)<1?r/2*Math.pow(2,10*(t-1))+i:r/2*(2-Math.pow(2,-10*--t))+i,CIRC:(t,i,r,a)=>(t/=a/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+i:r/2*(Math.sqrt(1-(t-=2)*t)+1)+i,ELASTIC(t,i,r,a){var s=1.70158,h=0,_=r;if(0===t)return i;if(2==(t/=a/2))return i+r;if(h||(h=a*(.3*1.5)),_<Math.abs(r)){_=r;s=h/4}else s=h/(2*Math.PI)*Math.asin(r/_);return t<1?_*Math.pow(2,10*(t-=1))*Math.sin((t*a-s)*(2*Math.PI)/h)*-.5+i:_*Math.pow(2,-10*(t-=1))*Math.sin((t*a-s)*(2*Math.PI)/h)*.5+r+i},BACK:(t,i,r,a,s)=>(void 0===s&&(s=1.70158),(t/=a/2)<1?r/2*(t*t*((1+(s*=1.525))*t-s))+i:r/2*((t-=2)*t*((1+(s*=1.525))*t+s)+2)+i)}};var i=exports.default=t;
},{}],"cqRq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;class t{constructor(t){this.__items=t,this.__currentIdx=0}get done(){return this.__currentIdx===this.__items.length}reset(){this.__currentIdx=0,this.__items.forEach(t=>t.reset())}update(t){if(this.done){return this.__items[this.__items.length-1].update(t)}{const e=this.__items[this.__currentIdx],s=e.update(t);return e.done&&++this.__currentIdx,s}}}var e=exports.default=t;
},{}],"zt6s":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;class e{constructor(e){this.__items=e,this.__done=!1}get done(){return this.__done}reset(){this.__items.forEach(e=>e.reset()),this.__done=!1}update(e){let t=!0;const s=this.__items.map(s=>{const r=s.update(e);return t=t&&s.done,r});return t&&(this.__done=!0),s}}var t=exports.default=e;
},{}],"vFrL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.flipAnimation=n;var e=l(require("../../interpolators/Interpolator")),t=l(require("../../interpolators/SerialInterpolatorSet")),r=l(require("../../interpolators/ParallelInterpolatorSet"));function l(e){return e&&e.__esModule?e:{default:e}}function n(l,n){const a=l.position.y,o=a+2,u=o+1,f=new e.default(a,o,400),i=new e.default(o,u,400,e.default.EASING.OUT.SINE),d=new e.default(u,u,100),s=new t.default([f,i,d,i.reverse(e.default.EASING.IN.SINE),f.reverse()]),p=new e.default(0,480,900),w=new e.default(0,720,400),I=new e.default(360,n,400),S=new t.default([w,p,I]);return new r.default([s,S])}
},{"../../interpolators/Interpolator":"lwaN","../../interpolators/SerialInterpolatorSet":"cqRq","../../interpolators/ParallelInterpolatorSet":"zt6s"}],"HgX8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i=n(require("../../core/ControlScript")),t=require("./animations");function n(i){return i&&i.__esModule?i:{default:i}}class s extends i.default{constructor(){super(),this.__flipping=!1,this.__flipAnimation=null,this.__flipResult=null,this.__onFlipEnd=null}onFlipStart(i){this.__onFlipStart=i}onFlipEnd(i){this.__onFlipEnd=i}startFlipping(i,n){if(n.input.mouse.isButtonPressed("left")){this.__flipping=!0;const n=Math.random()<.5;this.__flipAnimation=(0,t.flipAnimation)(i,n?720:900),this.__flipResult={heads:n,tails:!n},this.__onFlipStart&&this.__onFlipStart()}}update(i,t){if(this.__flipping){const[n,s]=this.__flipAnimation.update(t.deltaTime);if(i.position.y=n[0],i.rotation.x=s[0],this.__flipAnimation.done&&(this.__flipping=!1,this.__onFlipEnd))return this.__onFlipEnd(this.__flipResult)}else this.startFlipping(i,t)}}var l=exports.default=s;
},{"../../core/ControlScript":"aeWS","./animations":"vFrL"}],"bjoG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("../Model"));function e(t){return t&&t.__esModule?t:{default:t}}class i extends t.default{initialize(t,e){super.initialize(t,e);const{gl:i}=this;this.attribLocations={vertPosition:i.getAttribLocation(this.program,"vertPosition"),texCoord:i.getAttribLocation(this.program,"texCoord")}}initializeProperties(t,e,i,r,s,o){this.height=t,this.width=e,this.breadth=i,this.legHeight=r,this.legWidth=s,this.legBreadh=o}setTexture(t){this.texture=t}generateLegVertices(t,e,i,r,s,o){let n=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;const a=t/2,h=e/2,c=i/2,d=u(0,s-h,-a-r,o-c),l=u(1,s-h,-a-r,-o+c),g=u(2,-s+h,-a-r,o-c),E=u(3,-s+h,-a-r,-o+c);return{vertices:[...d.vertices,...l.vertices,...g.vertices,...E.vertices],indices:[...d.indices,...l.indices,...g.indices,...E.indices]};function u(t,e,i,r){const s=[h+e,-a+i,-c+r,0,0,h+e,a+i,-c+r,.1,.1,-h+e,-a+i,-c+r,0,0,-h+e,a+i,-c+r,.1,.1,h+e,-a+i,c+r,0,0,h+e,a+i,c+r,.1,.1,-h+e,-a+i,c+r,0,0,-h+e,a+i,c+r,.1,.1,h+e,a+i,c+r,.1,.1,h+e,a+i,-c+r,0,0,-h+e,a+i,-c+r,0,0,-h+e,a+i,c+r,.1,.1,h+e,-a+i,c+r,0,0,h+e,-a+i,-c+r,.1,.1,-h+e,-a+i,-c+r,0,0,-h+e,-a+i,c+r,.1,.1,h+e,a+i,-c+r,0,0,h+e,a+i,c+r,.1,.1,h+e,-a+i,-c+r,0,0,h+e,-a+i,c+r,.1,.1,-h+e,a+i,-c+r,0,0,-h+e,a+i,c+r,.1,.1,-h+e,-a+i,-c+r,0,0,-h+e,-a+i,c+r,.1,.1],o=s.length/5;return{vertices:s,indices:[1,2,3,2,1,0,4,5,6,7,6,5,8,9,10,10,11,8,12,15,14,14,13,12,16,17,18,19,18,17,21,22,23,22,21,20].map(e=>e+n+t*o)}}}generateVertices(t,e,i,r,s,o){const n=r/2,a=s/2,h=o/2,c=[a,-n,-h,0,0,a,n,-h,1,1,-a,-n,-h,0,0,-a,n,-h,1,1,a,-n,h,0,0,a,n,h,1,1,-a,-n,h,0,0,-a,n,h,1,1,a,n,h,1,1,a,n,-h,0,0,-a,n,-h,0,0,-a,n,h,1,1,a,-n,h,0,0,a,-n,-h,1,1,-a,-n,-h,0,0,-a,-n,h,1,1,a,n,-h,0,0,a,n,h,1,1,a,-n,-h,0,0,a,-n,h,1,1,-a,n,-h,0,0,-a,n,h,1,1,-a,-n,-h,0,0,-a,-n,h,1,1],d=this.generateLegVertices(t,e,i,n,a,h,c.length/5);return{vertices:[...c,...d.vertices],indices:[1,2,3,2,1,0,4,5,6,7,6,5,8,9,10,10,11,8,12,15,14,14,13,12,16,17,18,19,18,17,21,22,23,22,21,20,...d.indices]}}draw(){const{gl:t}=this,e=this.width||1,i=this.breadth||1,r=this.height||1,s=this.legHeight||3,o=this.legBreadh||.5,n=this.legWidth||.5,{vertices:a,indices:h}=this.generateVertices(s,n,o,r,e,i);this._createBuffer(a),this._createElementBuffer(h),t.vertexAttribPointer(this.attribLocations.vertPosition,3,t.FLOAT,t.FALSE,5*Float32Array.BYTES_PER_ELEMENT,0),t.vertexAttribPointer(this.attribLocations.texCoord,2,t.FLOAT,t.FALSE,5*Float32Array.BYTES_PER_ELEMENT,3*Float32Array.BYTES_PER_ELEMENT),t.enableVertexAttribArray(this.attribLocations.vertPosition),t.enableVertexAttribArray(this.attribLocations.texCoord),t.bindTexture(t.TEXTURE_2D,this.texture.location),t.activeTexture(t.TEXTURE0),t.drawElements(t.TRIANGLES,h.length,t.UNSIGNED_SHORT,0)}}var r=exports.default=i;
},{"../Model":"sBYS"}],"kTBf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=d(require("../../core/GameObject")),t=d(require("../../core/shaders/VertexShader")),r=d(require("../../core/shaders/FragmentShader")),i=d(require("./shader.vert")),s=d(require("./shader.frag")),a=d(require("../../models/Table"));function d(e){return e&&e.__esModule?e:{default:e}}class u extends e.default{initialize(e,d,u,l,o,n){const c=new t.default(this.context,i.default),f=new r.default(this.context,s.default),h=new a.default(this.context);h.initialize(c,f),h.initializeProperties(e,d,u,l,o,n),this._setModel(h)}setTexture(e){this.__model.setTexture(e)}}var l=exports.default=u;
},{"../../core/GameObject":"dKMc","../../core/shaders/VertexShader":"hKAl","../../core/shaders/FragmentShader":"pFJQ","./shader.vert":"oMEM","./shader.frag":"BAGI","../../models/Table":"bjoG"}],"FtOb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const t=document.createElement("template");t.innerHTML="\n<style>\n  :host {\n    display: block;\n    overflow: hidden;\n  }\n\n  h1 {\n    color: #3388FF;\n    text-align: center;\n    margin: 0;\n    user-select: none;\n    transition: 1s all;\n    opacity: 0;\n    font-size: 2rem;\n    transform: scale(1);\n    font-weight: normal;\n    background: #FFFFFF;\n    padding: 1rem 0;\n  }\n\n  h1.active {\n    opacity: 100;\n    transform: scale(1.5);\n  }\n\n</style>\n<h1>\n  It's <span id='result'> </span>!!\n</h1>\n";class e extends window.HTMLElement{static get observedAttributes(){return["result"]}constructor(){super(),this._shadowRoot=this.attachShadow({mode:"open"}),this._shadowRoot.appendChild(t.content.cloneNode(!0)),this.$root=this._shadowRoot.querySelector("h1"),this.$result=this._shadowRoot.querySelector("#result")}connectedCallback(){this._render()}attributeChangedCallback(t,e,s){switch(t){case"result":this._result=s}this._render()}get result(){return this.getAttribute("result")}set result(t){this.setAttribute("result",t)}get resultText(){switch(this._result){case"heads":return"Heads";case"tails":return"Tails";default:return"Unknown"}}_render(){this._result?(this.$result.innerText=this.resultText,this.$root.classList.add("active")):this.$root.classList.remove("active")}}window.customElements.define("result-message",e);var s=exports.default=e;
},{}],"ugW2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const n=document.createElement("template");n.innerHTML="\n<style>\n  :host {\n    display: block;\n    overflow: hidden;\n  }\n\n  h1 {\n    color: #335599;\n    text-align: center;\n    user-select: none;\n    width: auto;\n    font-size: 2rem;\n    animation: pulsate 0.6s infinite alternate;\n    font-weight: normal;\n    margin: 0;\n  }\n\n  h2 {\n    color: #666666;\n    text-align: center;\n    user-select: none;\n    width: auto;\n    font-size: 1.3rem;\n    font-weight: normal;\n    margin: 0.5rem 0 0 0;\n  }\n\n  .question {\n    position: absolute;\n    animation: slide-down 1s 1;\n    animation-fill-mode: both;\n  }\n\n  @keyframes slide-down {\n    from {transform: scale(1.5) rotateY(360deg);}\n    to {left: scale(1) rotateY(0)}\n  }\n\n  @keyframes pulsate {\n    from {transform: scale(1)}\n    to {transform: scale(1.05)}\n  }\n</style>\n<h1>\n  Heads or Tails<span class='question'>?</span>\n</h1>\n<h2>\n  Click to flip!\n</h2>\n";class e extends window.HTMLElement{constructor(){super(),this._shadowRoot=this.attachShadow({mode:"open"}),this._shadowRoot.appendChild(n.content.cloneNode(!0))}}window.customElements.define("click-prompt",e);var t=exports.default=e;
},{}],"BUoz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const n=document.createElement("template"),t='\n  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M12.068.016l-3.717 3.698 5.263 5.286h-13.614v6h13.614l-5.295 5.317 3.718 3.699 11.963-12.016z"/>\n  </svg>\n',e='\n  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M16 2c1.103 0 2 .897 2 2v12c0 3.309-2.691 6-6 6s-6-2.691-6-6v-12c0-1.103.897-2 2-2h8zm4 2c0-2.209-1.791-4-4-4h-8c-2.209 0-4 1.791-4 4v12c0 4.418 3.582 8 8 8s8-3.582 8-8v-12zm-7 1c0-.552-.447-1-1-1s-1 .448-1 1v4c0 .552.447 1 1 1s1-.448 1-1v-4z"/>\n  </svg>\n';n.innerHTML=`\n  <style>\n    .camera-text { color: #335599; font-weight: bold; padding: 0 0.5rem; }\n    .controls-container { opacity: 0.7; padding: 0.5rem; display: flex; }\n    .control-row { text-align: center; padding: 0.1rem 0; }\n    .arrow { display: inline-block; padding: 0.3rem; background: #335599; border-radius: 0.2rem; }\n    .arrow > svg { fill: #FFFFFF; width: 0.8rem; height: 0.8rem;}\n    .right { transform: rotate(0deg); }\n    .left { transform: rotate(180deg); }\n    .up { transform: rotate(270deg); }\n    .down { transform: rotate(90deg); }\n    .mouse { padding: 0 0.5rem; transform: rotate(-10deg); }\n    .mouse > svg { width: 3rem; height: 3.3rem; fill: #335599; }\n  </style>\n  <div class="control-info-container">\n    <div class="controls-container">\n        <div>\n        <div class="control-row">\n            <div class="arrow up">\n            ${t}\n            </div>\n        </div>\n        <div class="control-row">\n            <div class="arrow left">\n                ${t}\n            </div>\n            <div class="arrow down">\n                ${t}\n            </div>\n            <div class="arrow right">\n                ${t}\n            </div>\n        </div>\n        </div>\n        <div>\n        <div class="mouse">\n            ${e}\n        </div>\n        </div>\n    </div>\n    <div class="camera-text" > Camera Controls </div>\n  </div>\n`;class o extends window.HTMLElement{constructor(){super(),this._shadowRoot=this.attachShadow({mode:"open"}),this._shadowRoot.appendChild(n.content.cloneNode(!0))}}window.customElements.define("control-info",o);var r=exports.default=o;
},{}],"zumH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const n=document.createElement("template");n.innerHTML="\n<style>\n  #loader-root {\n    right: 5%;\n    position: absolute;\n    bottom: 50%;\n    transform: translateY(50%);\n    user-select: none;\n  }\n\n  #loading-text {\n    font-size: 2rem;\n    color: #33AA11;\n    display: inline-block;\n    position: relative;\n    padding-left: 1rem;\n    transform: translateY(-50%);\n  }\n\n  #coin {\n    width: 4rem;\n    height: 4rem;\n    border-radius: 50%;\n    background: #99CC33;\n    animation: spin 1.5s linear infinite;\n    display: inline-block;\n  }\n\n  @keyframes spin {\n    from { transform: rotateY(0deg); }\n    to { transform: rotateY(360deg); }\n  }\n</style>\n<div id='loader-root'>\n  <div id='coin'></div>\n  <div id='loading-text'> LOADING </div>\n</div>\n";class e extends window.HTMLElement{constructor(){super(),this._shadowRoot=this.attachShadow({mode:"open"}),this._shadowRoot.appendChild(n.content.cloneNode(!0))}}window.customElements.define("game-loader",e);var t=exports.default=e;
},{}],"T38p":[function(require,module,exports) {

},{}],"EfSf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("./components/ResultMessage"),require("./components/ClickPrompt"),require("./components/ControlInfo"),require("./components/GameLoader"),require("./style.css");class e{constructor(){this.__initialize(),this.__sizeOverlay=this.__sizeOverlay.bind(this),this.resetResultMessage=this.resetResultMessage.bind(this),window.addEventListener("resize",this.__sizeOverlay),this.__sizeOverlay()}__initialize(){const e=document.createElement("div");e.id="overlay",document.body.appendChild(e),this.__overlay=e}__sizeOverlay(){const e=this.__overlay;e.style.width=window.innerWidth,e.style.height=window.innerHeight}showHUD(){const e=this.__overlay;e.innerHTML="";const s=document.createElement("result-message"),t=document.createElement("click-prompt");e.appendChild(t),e.appendChild(s),this.__message=s,this.__clickPrompt=t,this.showControlInfo()}showClickPrompt(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?this.__clickPrompt.classList.remove("hidden"):this.__clickPrompt.classList.add("hidden")}resetResultMessage(){this.__message.result="",this.showClickPrompt(!0)}displayResultMessage(e){this.__message.result=e,this.showClickPrompt(!1),this.__messageTimeout&&window.clearTimeout(this.__messageTimeout),this.__messageTimeout=window.setTimeout(this.resetResultMessage,2e3)}showControlInfo(){const e=document.createElement("control-info");this.__overlay.appendChild(e)}showLoader(){this.__overlay.innerHTML="";const e=document.createElement("game-loader");this.__overlay.appendChild(e)}destroy(){window.removeEventListener("resize",this.__sizeOverlay)}}var s=exports.default=e;
},{"./components/ResultMessage":"FtOb","./components/ClickPrompt":"ugW2","./components/ControlInfo":"BUoz","./components/GameLoader":"zumH","./style.css":"T38p"}],"mTnt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../../core/ControlScript"));function t(e){return e&&e.__esModule?e:{default:e}}class s extends e.default{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Math.PI/2;super(),this.__center=e,this.__radius=t,this.__angleHorz=s}update(e,t){const s=t.input.mouse,r=t.input.keyboard,i=s.getScroll(),o=t.deltaTime/1e3;this.__radius=Math.max(1,this.__radius-.05*i.y),r.isKeyPressed("ArrowLeft")&&(this.__angleHorz+=1*o),r.isKeyPressed("ArrowRight")&&(this.__angleHorz-=1*o),r.isKeyPressed("ArrowUp")&&(e.position.y+=3*o),r.isKeyPressed("ArrowDown")&&(e.position.y-=3*o),e.position.x=this.__center.x+this.__radius*Math.cos(this.__angleHorz),e.position.z=this.__center.z+this.__radius*Math.sin(this.__angleHorz),e.lookAt([this.__center.x,this.__center.y,this.__center.z])}}var r=exports.default=s;
},{"../../core/ControlScript":"aeWS"}],"H99C":[function(require,module,exports) {
"use strict";var e=c(require("./core/AppContext")),t=c(require("./gameObjects/Coin")),n=c(require("./core/Scene")),r=c(require("./core/Camera")),o=c(require("./core/Texture")),i=c(require("./scripts/ControlCoin")),u=c(require("./gameObjects/Table")),a=c(require("./UI")),s=c(require("./scripts/ControlCamera"));function c(e){return e&&e.__esModule?e:{default:e}}function d(){const e=l();return e.ui.showLoader(),w(e).then(t=>f(e,t)).then(t=>{e.ui.showHUD(),m(t)})}function l(){const t=new a.default,n=document.getElementById("screen");n.width=window.innerWidth,n.height=window.innerHeight;const r=new e.default(n);return r.ui=t,r}function w(e){return function(e){const t=new o.default(e),n=new o.default(e);return Promise.all([t.loadImage("textures/wood.jpg",3),n.loadImage("textures/2rscoin.jpg",3)]).then(()=>({table:t,coin:n}))}(e).then(e=>({textures:e}))}function f(e,t){const{textures:n}=t,r=p(e),o=h(e,n.coin),i=C(e,n.table);return r.camera.addControlScript("controlCamera",new s.default(o.position)),r.addGameObject(i),r.addGameObject(o),r}function m(e){const t=function(){e.update(),e.draw(),window.requestAnimationFrame(t)};t()}function p(e){const t=new n.default(e);t.setClearColor([.75,.85,.8,1]);const o=new r.default(e);return t.setCamera(o),o.setPosition([0,5,0]),t}function C(e,t){const n=new u.default(e);return n.initialize(.5,10,7,3,.5,.5),n.setTexture(t),n.position.y=-.32,n}function h(e,n){const{ui:r}=e,o=new t.default(e),u=new i.default;return u.onFlipStart(()=>{r.showClickPrompt(!1)}),u.onFlipEnd(e=>{let{heads:t}=e;t?r.displayResultMessage("heads"):r.displayResultMessage("tails")}),o.addControlScript("controlCoin",u),o.initialize(.7,.1,50),o.setTexture(n),o}window.onload=d;
},{"./core/AppContext":"xnDs","./gameObjects/Coin":"PZPS","./core/Scene":"bQHE","./core/Camera":"LJBj","./core/Texture":"kT85","./scripts/ControlCoin":"HgX8","./gameObjects/Table":"kTBf","./UI":"EfSf","./scripts/ControlCamera":"mTnt"}]},{},["H99C"], null)
//# sourceMappingURL=/src.a58b8fef.js.map